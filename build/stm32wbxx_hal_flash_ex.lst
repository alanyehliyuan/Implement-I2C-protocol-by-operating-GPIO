ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"stm32wbxx_hal_flash_ex.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c"
  20              		.section	.text.HAL_FLASHEx_Erase,"ax",%progbits
  21              		.align	1
  22              		.global	HAL_FLASHEx_Erase
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	HAL_FLASHEx_Erase:
  28              	.LFB950:
   1:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /**
   2:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   ******************************************************************************
   3:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @file    stm32wbxx_hal_flash_ex.c
   4:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @author  MCD Application Team
   5:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @brief   Extended FLASH HAL module driver.
   6:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *          This file provides firmware functions to manage the following
   7:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *          functionalities of the FLASH extended peripheral:
   8:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *           + Extended programming operations functions
   9:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   ******************************************************************************
  10:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @attention
  11:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *
  12:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * Copyright (c) 2019 STMicroelectronics.
  13:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * All rights reserved.
  14:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *
  15:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * This software is licensed under terms that can be found in the LICENSE file
  16:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * in the root directory of this software component.
  17:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  18:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *
  19:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   ******************************************************************************
  20:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****  @verbatim
  21:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****  ==============================================================================
  22:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****                    ##### Flash Extended features #####
  23:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   ==============================================================================
  24:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
  25:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   [..] Comparing to other previous devices, the FLASH interface for STM32WBxx
  26:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****        devices contains the following additional features
  27:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
  28:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****        (+) Capacity up to 1 Mbyte with single bank architecture supporting read-while-write
  29:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****            capability (RWW)
  30:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****        (+) Single bank memory organization
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 2


  31:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****        (+) PCROP protection
  32:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****        (+) WRP protection
  33:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****        (+) CPU2 Security area
  34:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****        (+) Program Erase Suspend feature
  35:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
  36:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****                         ##### How to use this driver #####
  37:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****  ==============================================================================
  38:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   [..] This driver provides functions to configure and program the FLASH memory
  39:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****        of all STM32WBxx devices. It includes
  40:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****       (#) Flash Memory Erase functions:
  41:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****            (++) Lock and Unlock the FLASH interface using HAL_FLASH_Unlock() and
  42:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****                 HAL_FLASH_Lock() functions
  43:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****            (++) Erase function: Erase page, erase all sectors
  44:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****            (++) There are two modes of erase :
  45:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****              (+++) Polling Mode using HAL_FLASHEx_Erase()
  46:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****              (+++) Interrupt Mode using HAL_FLASHEx_Erase_IT()
  47:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
  48:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****       (#) Option Bytes Programming function: Use HAL_FLASHEx_OBProgram() to :
  49:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****         (++) Set/Reset the write protection (per 4 KByte)
  50:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****         (++) Set the Read protection Level
  51:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****         (++) Program the user Option Bytes
  52:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****         (++) Configure the PCROP protection (per 2 KByte)
  53:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****         (++) Configure the IPCC Buffer start Address
  54:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****         (++) Configure the CPU2 boot region and reset vector start Address
  55:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****         (++) Configure the Flash and SRAM2 secure area
  56:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
  57:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****       (#) Get Option Bytes Configuration function: Use HAL_FLASHEx_OBGetConfig() to :
  58:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****         (++) Get the value of a write protection area
  59:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****         (++) Know if the read protection is activated
  60:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****         (++) Get the value of the user Option Bytes
  61:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****         (++) Get the value of a PCROP area
  62:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****         (++) Get the IPCC Buffer start Address
  63:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****         (++) Get the CPU2 boot region and reset vector start Address
  64:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****         (++) Get the Flash and SRAM2 secure area
  65:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
  66:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****       (#) Flash Suspend, Allow functions:
  67:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****            (++) Suspend or Allow new program or erase operation request using HAL_FLASHEx_SuspendOp
  68:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****                 HAL_FLASHEx_AllowOperation() functions
  69:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
  70:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****       (#) Check is flash content is empty or not using HAL_FLASHEx_FlashEmptyCheck().
  71:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****           and modify this setting (for flash loader purpose e.g.) using
  72:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****           HAL_FLASHEx_ForceFlashEmpty().
  73:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
  74:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****  @endverbatim
  75:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   ******************************************************************************
  76:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   */
  77:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
  78:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /* Includes ------------------------------------------------------------------*/
  79:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** #include "stm32wbxx_hal.h"
  80:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
  81:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /** @addtogroup STM32WBxx_HAL_Driver
  82:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @{
  83:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   */
  84:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
  85:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /** @defgroup FLASHEx FLASHEx
  86:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @brief FLASH Extended HAL module driver
  87:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @{
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 3


  88:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   */
  89:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
  90:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** #ifdef HAL_FLASH_MODULE_ENABLED
  91:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
  92:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /* Private typedef -----------------------------------------------------------*/
  93:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /* Private define ------------------------------------------------------------*/
  94:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /* Private macro -------------------------------------------------------------*/
  95:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /* Private variables ---------------------------------------------------------*/
  96:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /* Private function prototypes -----------------------------------------------*/
  97:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /** @defgroup FLASHEx_Private_Functions FLASHEx Private Functions
  98:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @{
  99:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   */
 100:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** static void              FLASH_AcknowledgePageErase(void);
 101:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** static void              FLASH_FlushCaches(void);
 102:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** static void              FLASH_OB_WRPConfig(uint32_t WRPArea, uint32_t WRPStartOffset, uint32_t WRD
 103:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** static void              FLASH_OB_OptrConfig(uint32_t UserType, uint32_t UserConfig, uint32_t RDPLe
 104:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** static void              FLASH_OB_PCROP1AConfig(uint32_t PCROPConfig, uint32_t PCROP1AStartAddr,
 105:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****                                                 uint32_t PCROP1AEndAddr);
 106:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** static void              FLASH_OB_PCROP1BConfig(uint32_t PCROP1BStartAddr, uint32_t PCROP1BEndAddr)
 107:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** static void              FLASH_OB_IPCCBufferAddrConfig(uint32_t IPCCDataBufAddr);
 108:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** static void              FLASH_OB_SecureConfig(FLASH_OBProgramInitTypeDef *pOBParam);
 109:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** static void              FLASH_OB_GetWRP(uint32_t WRPArea, uint32_t *WRPStartOffset, uint32_t *WRDP
 110:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** static uint32_t          FLASH_OB_GetRDP(void);
 111:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** static uint32_t          FLASH_OB_GetUser(void);
 112:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** static void              FLASH_OB_GetPCROP(uint32_t *PCROPConfig, uint32_t *PCROP1AStartAddr, uint3
 113:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****                                            uint32_t *PCROP1BStartAddr, uint32_t *PCROP1BEndAddr);
 114:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** static uint32_t          FLASH_OB_GetIPCCBufferAddr(void);
 115:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** static void              FLASH_OB_GetSecureMemoryConfig(uint32_t *SecureFlashStartAddr, uint32_t *S
 116:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****                                                         uint32_t *SecureRAM2bStartAddr, uint32_t *S
 117:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** static void              FLASH_OB_GetC2BootResetConfig(uint32_t *C2BootResetVectAddr, uint32_t *C2B
 118:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** static HAL_StatusTypeDef FLASH_OB_ProceedWriteOperation(void);
 119:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /**
 120:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @}
 121:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   */
 122:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 123:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /* Exported functions -------------------------------------------------------*/
 124:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /** @defgroup FLASHEx_Exported_Functions FLASH Extended Exported Functions
 125:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @{
 126:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   */
 127:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 128:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /** @defgroup FLASHEx_Exported_Functions_Group1 Extended IO operation functions
 129:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *  @brief   Extended IO operation functions
 130:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *
 131:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** @verbatim
 132:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****  ===============================================================================
 133:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****                 ##### Extended programming operation functions #####
 134:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****  ===============================================================================
 135:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     [..]
 136:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     This subsection provides a set of functions allowing to manage the Extended FLASH
 137:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     programming operations Operations.
 138:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 139:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** @endverbatim
 140:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @{
 141:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   */
 142:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /**
 143:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @brief  Perform an erase of the specified FLASH memory pages.
 144:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @note   Before any operation, it is possible to check there is no operation suspended
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 4


 145:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         by call HAL_FLASHEx_IsOperationSuspended()
 146:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @param[in]  pEraseInit Pointer to an @ref FLASH_EraseInitTypeDef structure that
 147:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         contains the configuration information for the erasing.
 148:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @param[out]  PageError Pointer to variable that contains the configuration
 149:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         information on faulty page in case of error (0xFFFFFFFF means that all
 150:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         the pages have been correctly erased)
 151:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @retval HAL Status
 152:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   */
 153:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** HAL_StatusTypeDef HAL_FLASHEx_Erase(FLASH_EraseInitTypeDef *pEraseInit, uint32_t *PageError)
 154:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** {
  29              		.loc 1 154 1
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 16
  32              		@ frame_needed = 1, uses_anonymous_args = 0
  33 0000 80B5     		push	{r7, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 7, -8
  37              		.cfi_offset 14, -4
  38 0002 84B0     		sub	sp, sp, #16
  39              	.LCFI1:
  40              		.cfi_def_cfa_offset 24
  41 0004 00AF     		add	r7, sp, #0
  42              	.LCFI2:
  43              		.cfi_def_cfa_register 7
  44 0006 7860     		str	r0, [r7, #4]
  45 0008 3960     		str	r1, [r7]
 155:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   HAL_StatusTypeDef status;
 156:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   uint32_t index;
 157:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 158:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Check the parameters */
 159:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   assert_param(IS_FLASH_TYPEERASE(pEraseInit->TypeErase));
 160:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 161:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Process Locked */
 162:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   __HAL_LOCK(&pFlash);
  46              		.loc 1 162 3
  47 000a 244B     		ldr	r3, .L10
  48 000c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  49 000e 012B     		cmp	r3, #1
  50 0010 01D1     		bne	.L2
  51              		.loc 1 162 3 is_stmt 0 discriminator 1
  52 0012 0223     		movs	r3, #2
  53              		.loc 1 162 3
  54 0014 3DE0     		b	.L3
  55              	.L2:
  56              		.loc 1 162 3 discriminator 2
  57 0016 214B     		ldr	r3, .L10
  58 0018 0122     		movs	r2, #1
  59 001a 1A70     		strb	r2, [r3]
 163:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 164:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Reset error code */
 165:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   pFlash.ErrorCode = HAL_FLASH_ERROR_NONE;
  60              		.loc 1 165 20 is_stmt 1
  61 001c 1F4B     		ldr	r3, .L10
  62 001e 0022     		movs	r2, #0
  63 0020 5A60     		str	r2, [r3, #4]
 166:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 5


 167:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Verify that next operation can be proceed */
 168:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   status = FLASH_WaitForLastOperation(FLASH_TIMEOUT_VALUE);
  64              		.loc 1 168 12
  65 0022 4FF47A70 		mov	r0, #1000
  66 0026 FFF7FEFF 		bl	FLASH_WaitForLastOperation
  67 002a 0346     		mov	r3, r0
  68 002c FB73     		strb	r3, [r7, #15]
 169:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 170:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   if (status == HAL_OK)
  69              		.loc 1 170 6
  70 002e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
  71 0030 002B     		cmp	r3, #0
  72 0032 2AD1     		bne	.L4
 171:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   {
 172:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     if (pEraseInit->TypeErase == FLASH_TYPEERASE_PAGES)
  73              		.loc 1 172 19
  74 0034 7B68     		ldr	r3, [r7, #4]
  75 0036 1B68     		ldr	r3, [r3]
  76              		.loc 1 172 8
  77 0038 022B     		cmp	r3, #2
  78 003a 24D1     		bne	.L5
 173:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     {
 174:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****       /*Initialization of PageError variable*/
 175:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****       *PageError = 0xFFFFFFFFU;
  79              		.loc 1 175 18
  80 003c 3B68     		ldr	r3, [r7]
  81 003e 4FF0FF32 		mov	r2, #-1
  82 0042 1A60     		str	r2, [r3]
 176:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 177:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****       for (index = pEraseInit->Page; index < (pEraseInit->Page + pEraseInit->NbPages); index++)
  83              		.loc 1 177 18
  84 0044 7B68     		ldr	r3, [r7, #4]
  85 0046 5B68     		ldr	r3, [r3, #4]
  86 0048 BB60     		str	r3, [r7, #8]
  87              		.loc 1 177 7
  88 004a 12E0     		b	.L6
  89              	.L9:
 178:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****       {
 179:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****         /* Start erase page */
 180:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****         FLASH_PageErase(index);
  90              		.loc 1 180 9
  91 004c B868     		ldr	r0, [r7, #8]
  92 004e FFF7FEFF 		bl	FLASH_PageErase
 181:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 182:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****         /* Wait for last operation to be completed */
 183:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****         status = FLASH_WaitForLastOperation(FLASH_TIMEOUT_VALUE);
  93              		.loc 1 183 18
  94 0052 4FF47A70 		mov	r0, #1000
  95 0056 FFF7FEFF 		bl	FLASH_WaitForLastOperation
  96 005a 0346     		mov	r3, r0
  97 005c FB73     		strb	r3, [r7, #15]
 184:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 185:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****         if (status != HAL_OK)
  98              		.loc 1 185 12
  99 005e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 100 0060 002B     		cmp	r3, #0
 101 0062 03D0     		beq	.L7
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 6


 186:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****         {
 187:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****           /* In case of error, stop erase procedure and return the faulty address */
 188:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****           *PageError = index;
 102              		.loc 1 188 22
 103 0064 3B68     		ldr	r3, [r7]
 104 0066 BA68     		ldr	r2, [r7, #8]
 105 0068 1A60     		str	r2, [r3]
 189:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****           break;
 106              		.loc 1 189 11
 107 006a 0AE0     		b	.L8
 108              	.L7:
 177:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****       {
 109              		.loc 1 177 93 discriminator 2
 110 006c BB68     		ldr	r3, [r7, #8]
 111 006e 0133     		adds	r3, r3, #1
 112 0070 BB60     		str	r3, [r7, #8]
 113              	.L6:
 177:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****       {
 114              		.loc 1 177 57 discriminator 1
 115 0072 7B68     		ldr	r3, [r7, #4]
 116 0074 5A68     		ldr	r2, [r3, #4]
 177:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****       {
 117              		.loc 1 177 76 discriminator 1
 118 0076 7B68     		ldr	r3, [r7, #4]
 119 0078 9B68     		ldr	r3, [r3, #8]
 177:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****       {
 120              		.loc 1 177 64 discriminator 1
 121 007a 1344     		add	r3, r3, r2
 177:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****       {
 122              		.loc 1 177 44 discriminator 1
 123 007c BA68     		ldr	r2, [r7, #8]
 124 007e 9A42     		cmp	r2, r3
 125 0080 E4D3     		bcc	.L9
 126              	.L8:
 190:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****         }
 191:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****       }
 192:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 193:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****       /* If operation is completed or interrupted, disable the Page Erase Bit */
 194:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****       FLASH_AcknowledgePageErase();
 127              		.loc 1 194 7
 128 0082 FFF7FEFF 		bl	FLASH_AcknowledgePageErase
 129              	.L5:
 195:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     }
 196:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 197:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     /* Flush the caches to be sure of the data consistency */
 198:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     FLASH_FlushCaches();
 130              		.loc 1 198 5
 131 0086 FFF7FEFF 		bl	FLASH_FlushCaches
 132              	.L4:
 199:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   }
 200:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 201:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Process Unlocked */
 202:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   __HAL_UNLOCK(&pFlash);
 133              		.loc 1 202 3
 134 008a 044B     		ldr	r3, .L10
 135 008c 0022     		movs	r2, #0
 136 008e 1A70     		strb	r2, [r3]
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 7


 203:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 204:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   return status;
 137              		.loc 1 204 10
 138 0090 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 139              	.L3:
 205:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** }
 140              		.loc 1 205 1
 141 0092 1846     		mov	r0, r3
 142 0094 1037     		adds	r7, r7, #16
 143              	.LCFI3:
 144              		.cfi_def_cfa_offset 8
 145 0096 BD46     		mov	sp, r7
 146              	.LCFI4:
 147              		.cfi_def_cfa_register 13
 148              		@ sp needed
 149 0098 80BD     		pop	{r7, pc}
 150              	.L11:
 151 009a 00BF     		.align	2
 152              	.L10:
 153 009c 00000000 		.word	pFlash
 154              		.cfi_endproc
 155              	.LFE950:
 157              		.section	.text.HAL_FLASHEx_Erase_IT,"ax",%progbits
 158              		.align	1
 159              		.global	HAL_FLASHEx_Erase_IT
 160              		.syntax unified
 161              		.thumb
 162              		.thumb_func
 164              	HAL_FLASHEx_Erase_IT:
 165              	.LFB951:
 206:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 207:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /**
 208:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @brief  Perform an erase of the specified FLASH memory pages with interrupt enabled.
 209:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @note   Before any operation, it is possible to check there is no operation suspended
 210:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         by call HAL_FLASHEx_IsOperationSuspended()
 211:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @param  pEraseInit Pointer to an @ref FLASH_EraseInitTypeDef structure that
 212:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         contains the configuration information for the erasing.
 213:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @retval HAL Status
 214:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   */
 215:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** HAL_StatusTypeDef HAL_FLASHEx_Erase_IT(FLASH_EraseInitTypeDef *pEraseInit)
 216:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** {
 166              		.loc 1 216 1
 167              		.cfi_startproc
 168              		@ args = 0, pretend = 0, frame = 16
 169              		@ frame_needed = 1, uses_anonymous_args = 0
 170 0000 80B5     		push	{r7, lr}
 171              	.LCFI5:
 172              		.cfi_def_cfa_offset 8
 173              		.cfi_offset 7, -8
 174              		.cfi_offset 14, -4
 175 0002 84B0     		sub	sp, sp, #16
 176              	.LCFI6:
 177              		.cfi_def_cfa_offset 24
 178 0004 00AF     		add	r7, sp, #0
 179              	.LCFI7:
 180              		.cfi_def_cfa_register 7
 181 0006 7860     		str	r0, [r7, #4]
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 8


 217:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   HAL_StatusTypeDef status;
 218:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 219:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Check the parameters */
 220:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   assert_param(IS_FLASH_TYPEERASE(pEraseInit->TypeErase));
 221:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 222:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Process Locked */
 223:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   __HAL_LOCK(&pFlash);
 182              		.loc 1 223 3
 183 0008 1C4B     		ldr	r3, .L17
 184 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 185 000c 012B     		cmp	r3, #1
 186 000e 01D1     		bne	.L13
 187              		.loc 1 223 3 is_stmt 0 discriminator 1
 188 0010 0223     		movs	r3, #2
 189              		.loc 1 223 3
 190 0012 2EE0     		b	.L14
 191              	.L13:
 192              		.loc 1 223 3 discriminator 2
 193 0014 194B     		ldr	r3, .L17
 194 0016 0122     		movs	r2, #1
 195 0018 1A70     		strb	r2, [r3]
 224:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 225:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Reset error code */
 226:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   pFlash.ErrorCode = HAL_FLASH_ERROR_NONE;
 196              		.loc 1 226 20 is_stmt 1
 197 001a 184B     		ldr	r3, .L17
 198 001c 0022     		movs	r2, #0
 199 001e 5A60     		str	r2, [r3, #4]
 227:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 228:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* save procedure for interrupt treatment */
 229:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   pFlash.ProcedureOnGoing = pEraseInit->TypeErase;
 200              		.loc 1 229 39
 201 0020 7B68     		ldr	r3, [r7, #4]
 202 0022 1B68     		ldr	r3, [r3]
 203              		.loc 1 229 27
 204 0024 154A     		ldr	r2, .L17
 205 0026 9360     		str	r3, [r2, #8]
 230:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 231:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Verify that next operation can be proceed */
 232:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   status = FLASH_WaitForLastOperation(FLASH_TIMEOUT_VALUE);
 206              		.loc 1 232 12
 207 0028 4FF47A70 		mov	r0, #1000
 208 002c FFF7FEFF 		bl	FLASH_WaitForLastOperation
 209 0030 0346     		mov	r3, r0
 210 0032 FB73     		strb	r3, [r7, #15]
 233:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 234:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   if (status != HAL_OK)
 211              		.loc 1 234 6
 212 0034 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 213 0036 002B     		cmp	r3, #0
 214 0038 03D0     		beq	.L15
 235:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   {
 236:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     /* Process Unlocked */
 237:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     __HAL_UNLOCK(&pFlash);
 215              		.loc 1 237 5
 216 003a 104B     		ldr	r3, .L17
 217 003c 0022     		movs	r2, #0
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 9


 218 003e 1A70     		strb	r2, [r3]
 219 0040 16E0     		b	.L16
 220              	.L15:
 238:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   }
 239:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   else
 240:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   {
 241:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     /* Enable End of Operation and Error interrupts */
 242:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     __HAL_FLASH_ENABLE_IT(FLASH_IT_EOP | FLASH_IT_OPERR);
 221              		.loc 1 242 5 discriminator 4
 222 0042 0F4B     		ldr	r3, .L17+4
 223 0044 5B69     		ldr	r3, [r3, #20]
 224 0046 0E4A     		ldr	r2, .L17+4
 225 0048 43F04073 		orr	r3, r3, #50331648
 226 004c 5361     		str	r3, [r2, #20]
 243:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 244:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     if (pEraseInit->TypeErase == FLASH_TYPEERASE_PAGES)
 227              		.loc 1 244 19
 228 004e 7B68     		ldr	r3, [r7, #4]
 229 0050 1B68     		ldr	r3, [r3]
 230              		.loc 1 244 8
 231 0052 022B     		cmp	r3, #2
 232 0054 0CD1     		bne	.L16
 245:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     {
 246:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****       /* Erase by page to be done */
 247:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****       pFlash.NbPagesToErase = pEraseInit->NbPages;
 233              		.loc 1 247 41
 234 0056 7B68     		ldr	r3, [r7, #4]
 235 0058 9B68     		ldr	r3, [r3, #8]
 236              		.loc 1 247 29
 237 005a 084A     		ldr	r2, .L17
 238 005c 5361     		str	r3, [r2, #20]
 248:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****       pFlash.Page = pEraseInit->Page;
 239              		.loc 1 248 31
 240 005e 7B68     		ldr	r3, [r7, #4]
 241 0060 5B68     		ldr	r3, [r3, #4]
 242              		.loc 1 248 19
 243 0062 064A     		ldr	r2, .L17
 244 0064 1361     		str	r3, [r2, #16]
 249:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 250:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****       /*Erase 1st page and wait for IT */
 251:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****       FLASH_PageErase(pEraseInit->Page);
 245              		.loc 1 251 7
 246 0066 7B68     		ldr	r3, [r7, #4]
 247 0068 5B68     		ldr	r3, [r3, #4]
 248 006a 1846     		mov	r0, r3
 249 006c FFF7FEFF 		bl	FLASH_PageErase
 250              	.L16:
 252:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     }
 253:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   }
 254:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 255:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* return status */
 256:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   return status;
 251              		.loc 1 256 10
 252 0070 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 253              	.L14:
 257:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** }
 254              		.loc 1 257 1
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 10


 255 0072 1846     		mov	r0, r3
 256 0074 1037     		adds	r7, r7, #16
 257              	.LCFI8:
 258              		.cfi_def_cfa_offset 8
 259 0076 BD46     		mov	sp, r7
 260              	.LCFI9:
 261              		.cfi_def_cfa_register 13
 262              		@ sp needed
 263 0078 80BD     		pop	{r7, pc}
 264              	.L18:
 265 007a 00BF     		.align	2
 266              	.L17:
 267 007c 00000000 		.word	pFlash
 268 0080 00400058 		.word	1476411392
 269              		.cfi_endproc
 270              	.LFE951:
 272              		.section	.text.HAL_FLASHEx_OBProgram,"ax",%progbits
 273              		.align	1
 274              		.global	HAL_FLASHEx_OBProgram
 275              		.syntax unified
 276              		.thumb
 277              		.thumb_func
 279              	HAL_FLASHEx_OBProgram:
 280              	.LFB952:
 258:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 259:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /**
 260:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @brief  Program Option bytes.
 261:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @param  pOBInit Pointer to an @ref FLASH_OBProgramInitTypeDef structure that
 262:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         contains the configuration information for the programming.
 263:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @note   To configure any option bytes, the option lock bit OPTLOCK must be
 264:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         cleared with the call of @ref HAL_FLASH_OB_Unlock() function.
 265:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @note   New option bytes configuration will be taken into account only
 266:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         - after an option bytes launch through the call of @ref HAL_FLASH_OB_Launch()
 267:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         - a Power On Reset
 268:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         - an exit from Standby or Shutdown mode.
 269:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @retval HAL Status
 270:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   */
 271:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** HAL_StatusTypeDef HAL_FLASHEx_OBProgram(FLASH_OBProgramInitTypeDef *pOBInit)
 272:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** {
 281              		.loc 1 272 1
 282              		.cfi_startproc
 283              		@ args = 0, pretend = 0, frame = 16
 284              		@ frame_needed = 1, uses_anonymous_args = 0
 285 0000 80B5     		push	{r7, lr}
 286              	.LCFI10:
 287              		.cfi_def_cfa_offset 8
 288              		.cfi_offset 7, -8
 289              		.cfi_offset 14, -4
 290 0002 84B0     		sub	sp, sp, #16
 291              	.LCFI11:
 292              		.cfi_def_cfa_offset 24
 293 0004 00AF     		add	r7, sp, #0
 294              	.LCFI12:
 295              		.cfi_def_cfa_register 7
 296 0006 7860     		str	r0, [r7, #4]
 273:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   uint32_t optr;
 274:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   HAL_StatusTypeDef status;
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 11


 275:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 276:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Check the parameters */
 277:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   assert_param(IS_OPTIONBYTE(pOBInit->OptionType));
 278:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 279:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Process Locked */
 280:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   __HAL_LOCK(&pFlash);
 297              		.loc 1 280 3
 298 0008 494B     		ldr	r3, .L30
 299 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 300 000c 012B     		cmp	r3, #1
 301 000e 01D1     		bne	.L20
 302              		.loc 1 280 3 is_stmt 0 discriminator 1
 303 0010 0223     		movs	r3, #2
 304              		.loc 1 280 3
 305 0012 89E0     		b	.L21
 306              	.L20:
 307              		.loc 1 280 3 discriminator 2
 308 0014 464B     		ldr	r3, .L30
 309 0016 0122     		movs	r2, #1
 310 0018 1A70     		strb	r2, [r3]
 281:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 282:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   pFlash.ErrorCode = HAL_FLASH_ERROR_NONE;
 311              		.loc 1 282 20 is_stmt 1
 312 001a 454B     		ldr	r3, .L30
 313 001c 0022     		movs	r2, #0
 314 001e 5A60     		str	r2, [r3, #4]
 283:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 284:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Write protection configuration */
 285:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   if ((pOBInit->OptionType & OPTIONBYTE_WRP) != 0U)
 315              		.loc 1 285 15
 316 0020 7B68     		ldr	r3, [r7, #4]
 317 0022 1B68     		ldr	r3, [r3]
 318              		.loc 1 285 28
 319 0024 03F00103 		and	r3, r3, #1
 320              		.loc 1 285 6
 321 0028 002B     		cmp	r3, #0
 322 002a 08D0     		beq	.L22
 286:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   {
 287:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     /* Configure of Write protection on the selected area */
 288:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     FLASH_OB_WRPConfig(pOBInit->WRPArea, pOBInit->WRPStartOffset, pOBInit->WRPEndOffset);
 323              		.loc 1 288 5
 324 002c 7B68     		ldr	r3, [r7, #4]
 325 002e 5868     		ldr	r0, [r3, #4]
 326 0030 7B68     		ldr	r3, [r7, #4]
 327 0032 9968     		ldr	r1, [r3, #8]
 328 0034 7B68     		ldr	r3, [r7, #4]
 329 0036 DB68     		ldr	r3, [r3, #12]
 330 0038 1A46     		mov	r2, r3
 331 003a FFF7FEFF 		bl	FLASH_OB_WRPConfig
 332              	.L22:
 289:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   }
 290:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 291:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Option register */
 292:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   if ((pOBInit->OptionType & (OPTIONBYTE_RDP | OPTIONBYTE_USER)) == (OPTIONBYTE_RDP | OPTIONBYTE_US
 333              		.loc 1 292 15
 334 003e 7B68     		ldr	r3, [r7, #4]
 335 0040 1B68     		ldr	r3, [r3]
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 12


 336              		.loc 1 292 28
 337 0042 03F00603 		and	r3, r3, #6
 338              		.loc 1 292 6
 339 0046 062B     		cmp	r3, #6
 340 0048 09D1     		bne	.L23
 293:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   {
 294:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     /* Fully modify OPTR register with RDP & user data */
 295:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     FLASH_OB_OptrConfig(pOBInit->UserType, pOBInit->UserConfig, pOBInit->RDPLevel);
 341              		.loc 1 295 5
 342 004a 7B68     		ldr	r3, [r7, #4]
 343 004c 5869     		ldr	r0, [r3, #20]
 344 004e 7B68     		ldr	r3, [r7, #4]
 345 0050 9969     		ldr	r1, [r3, #24]
 346 0052 7B68     		ldr	r3, [r7, #4]
 347 0054 1B69     		ldr	r3, [r3, #16]
 348 0056 1A46     		mov	r2, r3
 349 0058 FFF7FEFF 		bl	FLASH_OB_OptrConfig
 350 005c 25E0     		b	.L24
 351              	.L23:
 296:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   }
 297:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   else if ((pOBInit->OptionType & OPTIONBYTE_RDP) != 0U)
 352              		.loc 1 297 20
 353 005e 7B68     		ldr	r3, [r7, #4]
 354 0060 1B68     		ldr	r3, [r3]
 355              		.loc 1 297 33
 356 0062 03F00203 		and	r3, r3, #2
 357              		.loc 1 297 11
 358 0066 002B     		cmp	r3, #0
 359 0068 0ED0     		beq	.L25
 298:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   {
 299:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     /* Only modify RDP so get current user data */
 300:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     optr = FLASH_OB_GetUser();
 360              		.loc 1 300 12
 361 006a FFF7FEFF 		bl	FLASH_OB_GetUser
 362 006e F860     		str	r0, [r7, #12]
 301:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 302:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     /* Remove BOR LEVEL User Type*/
 303:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     optr &= ~OB_USER_BOR_LEV;
 363              		.loc 1 303 10
 364 0070 FB68     		ldr	r3, [r7, #12]
 365 0072 23F46063 		bic	r3, r3, #3584
 366 0076 FB60     		str	r3, [r7, #12]
 304:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 305:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     FLASH_OB_OptrConfig(optr, optr, pOBInit->RDPLevel);
 367              		.loc 1 305 5
 368 0078 7B68     		ldr	r3, [r7, #4]
 369 007a 1B69     		ldr	r3, [r3, #16]
 370 007c 1A46     		mov	r2, r3
 371 007e F968     		ldr	r1, [r7, #12]
 372 0080 F868     		ldr	r0, [r7, #12]
 373 0082 FFF7FEFF 		bl	FLASH_OB_OptrConfig
 374 0086 10E0     		b	.L24
 375              	.L25:
 306:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   }
 307:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   else if ((pOBInit->OptionType & OPTIONBYTE_USER) != 0U)
 376              		.loc 1 307 20
 377 0088 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 13


 378 008a 1B68     		ldr	r3, [r3]
 379              		.loc 1 307 33
 380 008c 03F00403 		and	r3, r3, #4
 381              		.loc 1 307 11
 382 0090 002B     		cmp	r3, #0
 383 0092 0AD0     		beq	.L24
 308:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   {
 309:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     /* Only modify user so get current RDP level */
 310:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     optr = FLASH_OB_GetRDP();
 384              		.loc 1 310 12
 385 0094 FFF7FEFF 		bl	FLASH_OB_GetRDP
 386 0098 F860     		str	r0, [r7, #12]
 311:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     FLASH_OB_OptrConfig(pOBInit->UserType, pOBInit->UserConfig, optr);
 387              		.loc 1 311 5
 388 009a 7B68     		ldr	r3, [r7, #4]
 389 009c 5869     		ldr	r0, [r3, #20]
 390 009e 7B68     		ldr	r3, [r7, #4]
 391 00a0 9B69     		ldr	r3, [r3, #24]
 392 00a2 FA68     		ldr	r2, [r7, #12]
 393 00a4 1946     		mov	r1, r3
 394 00a6 FFF7FEFF 		bl	FLASH_OB_OptrConfig
 395              	.L24:
 312:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   }
 313:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   else
 314:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   {
 315:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     /* Do Nothing */
 316:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   }
 317:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 318:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* PCROP Configuration */
 319:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   if ((pOBInit->OptionType & OPTIONBYTE_PCROP) != 0U)
 396              		.loc 1 319 15
 397 00aa 7B68     		ldr	r3, [r7, #4]
 398 00ac 1B68     		ldr	r3, [r3]
 399              		.loc 1 319 28
 400 00ae 03F00803 		and	r3, r3, #8
 401              		.loc 1 319 6
 402 00b2 002B     		cmp	r3, #0
 403 00b4 1CD0     		beq	.L26
 320:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   {
 321:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     /* Check the parameters */
 322:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     assert_param(IS_OB_PCROP_CONFIG(pOBInit->PCROPConfig));
 323:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 324:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     if ((pOBInit->PCROPConfig & (OB_PCROP_ZONE_A | OB_PCROP_RDP_ERASE)) != 0U)
 404              		.loc 1 324 17
 405 00b6 7B68     		ldr	r3, [r7, #4]
 406 00b8 DA69     		ldr	r2, [r3, #28]
 407              		.loc 1 324 31
 408 00ba 1E4B     		ldr	r3, .L30+4
 409 00bc 1340     		ands	r3, r3, r2
 410              		.loc 1 324 8
 411 00be 002B     		cmp	r3, #0
 412 00c0 08D0     		beq	.L27
 325:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     {
 326:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****       /* Configure the Zone 1A Proprietary code readout protection */
 327:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****       FLASH_OB_PCROP1AConfig(pOBInit->PCROPConfig, pOBInit->PCROP1AStartAddr, pOBInit->PCROP1AEndAd
 413              		.loc 1 327 7
 414 00c2 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 14


 415 00c4 D869     		ldr	r0, [r3, #28]
 416 00c6 7B68     		ldr	r3, [r7, #4]
 417 00c8 196A     		ldr	r1, [r3, #32]
 418 00ca 7B68     		ldr	r3, [r7, #4]
 419 00cc 5B6A     		ldr	r3, [r3, #36]
 420 00ce 1A46     		mov	r2, r3
 421 00d0 FFF7FEFF 		bl	FLASH_OB_PCROP1AConfig
 422              	.L27:
 328:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     }
 329:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 330:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     if ((pOBInit->PCROPConfig & OB_PCROP_ZONE_B) != 0U)
 423              		.loc 1 330 17
 424 00d4 7B68     		ldr	r3, [r7, #4]
 425 00d6 DB69     		ldr	r3, [r3, #28]
 426              		.loc 1 330 31
 427 00d8 03F00203 		and	r3, r3, #2
 428              		.loc 1 330 8
 429 00dc 002B     		cmp	r3, #0
 430 00de 07D0     		beq	.L26
 331:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     {
 332:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****       /* Configure the Zone 1B Proprietary code readout protection */
 333:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****       FLASH_OB_PCROP1BConfig(pOBInit->PCROP1BStartAddr, pOBInit->PCROP1BEndAddr);
 431              		.loc 1 333 7
 432 00e0 7B68     		ldr	r3, [r7, #4]
 433 00e2 9A6A     		ldr	r2, [r3, #40]
 434 00e4 7B68     		ldr	r3, [r7, #4]
 435 00e6 DB6A     		ldr	r3, [r3, #44]
 436 00e8 1946     		mov	r1, r3
 437 00ea 1046     		mov	r0, r2
 438 00ec FFF7FEFF 		bl	FLASH_OB_PCROP1BConfig
 439              	.L26:
 334:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     }
 335:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   }
 336:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 337:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /*  Secure mode and CPU2 Boot Vector */
 338:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   if ((pOBInit->OptionType & (OPTIONBYTE_SECURE_MODE | OPTIONBYTE_C2_BOOT_VECT)) != 0U)
 440              		.loc 1 338 15
 441 00f0 7B68     		ldr	r3, [r7, #4]
 442 00f2 1B68     		ldr	r3, [r3]
 443              		.loc 1 338 28
 444 00f4 03F44073 		and	r3, r3, #768
 445              		.loc 1 338 6
 446 00f8 002B     		cmp	r3, #0
 447 00fa 02D0     		beq	.L28
 339:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   {
 340:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     /* Set the secure flash and SRAM memory start address */
 341:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     FLASH_OB_SecureConfig(pOBInit);
 448              		.loc 1 341 5
 449 00fc 7868     		ldr	r0, [r7, #4]
 450 00fe FFF7FEFF 		bl	FLASH_OB_SecureConfig
 451              	.L28:
 342:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   }
 343:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 344:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* IPCC mailbox data buffer address */
 345:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   if ((pOBInit->OptionType & OPTIONBYTE_IPCC_BUF_ADDR) != 0U)
 452              		.loc 1 345 15
 453 0102 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 15


 454 0104 1B68     		ldr	r3, [r3]
 455              		.loc 1 345 28
 456 0106 03F01003 		and	r3, r3, #16
 457              		.loc 1 345 6
 458 010a 002B     		cmp	r3, #0
 459 010c 04D0     		beq	.L29
 346:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   {
 347:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     /* Configure the IPCC data buffer address */
 348:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     FLASH_OB_IPCCBufferAddrConfig(pOBInit->IPCCdataBufAddr);
 460              		.loc 1 348 5
 461 010e 7B68     		ldr	r3, [r7, #4]
 462 0110 9B6C     		ldr	r3, [r3, #72]
 463 0112 1846     		mov	r0, r3
 464 0114 FFF7FEFF 		bl	FLASH_OB_IPCCBufferAddrConfig
 465              	.L29:
 349:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   }
 350:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 351:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Proceed the OB Write Operation */
 352:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   status = FLASH_OB_ProceedWriteOperation();
 466              		.loc 1 352 12
 467 0118 FFF7FEFF 		bl	FLASH_OB_ProceedWriteOperation
 468 011c 0346     		mov	r3, r0
 469 011e FB72     		strb	r3, [r7, #11]
 353:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 354:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Process Unlocked */
 355:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   __HAL_UNLOCK(&pFlash);
 470              		.loc 1 355 3
 471 0120 034B     		ldr	r3, .L30
 472 0122 0022     		movs	r2, #0
 473 0124 1A70     		strb	r2, [r3]
 356:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 357:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* return status */
 358:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   return status;
 474              		.loc 1 358 10
 475 0126 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 476              	.L21:
 359:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** }
 477              		.loc 1 359 1
 478 0128 1846     		mov	r0, r3
 479 012a 1037     		adds	r7, r7, #16
 480              	.LCFI13:
 481              		.cfi_def_cfa_offset 8
 482 012c BD46     		mov	sp, r7
 483              	.LCFI14:
 484              		.cfi_def_cfa_register 13
 485              		@ sp needed
 486 012e 80BD     		pop	{r7, pc}
 487              	.L31:
 488              		.align	2
 489              	.L30:
 490 0130 00000000 		.word	pFlash
 491 0134 01000080 		.word	-2147483647
 492              		.cfi_endproc
 493              	.LFE952:
 495              		.section	.text.HAL_FLASHEx_OBGetConfig,"ax",%progbits
 496              		.align	1
 497              		.global	HAL_FLASHEx_OBGetConfig
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 16


 498              		.syntax unified
 499              		.thumb
 500              		.thumb_func
 502              	HAL_FLASHEx_OBGetConfig:
 503              	.LFB953:
 360:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 361:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /**
 362:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @brief  Get the Option bytes configuration.
 363:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @note   warning: this API only read flash register, it does not reflect any
 364:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         change that would have been programmed between previous Option byte
 365:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         loading and current call.
 366:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @param  pOBInit Pointer to an @ref FLASH_OBProgramInitTypeDef structure that contains the
 367:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *                  configuration information. The fields pOBInit->WRPArea and
 368:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *                  pOBInit->PCROPConfig should indicate which area is requested
 369:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *                  for the WRP and PCROP.
 370:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @retval None
 371:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   */
 372:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** void HAL_FLASHEx_OBGetConfig(FLASH_OBProgramInitTypeDef *pOBInit)
 373:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** {
 504              		.loc 1 373 1
 505              		.cfi_startproc
 506              		@ args = 0, pretend = 0, frame = 8
 507              		@ frame_needed = 1, uses_anonymous_args = 0
 508 0000 90B5     		push	{r4, r7, lr}
 509              	.LCFI15:
 510              		.cfi_def_cfa_offset 12
 511              		.cfi_offset 4, -12
 512              		.cfi_offset 7, -8
 513              		.cfi_offset 14, -4
 514 0002 85B0     		sub	sp, sp, #20
 515              	.LCFI16:
 516              		.cfi_def_cfa_offset 32
 517 0004 02AF     		add	r7, sp, #8
 518              	.LCFI17:
 519              		.cfi_def_cfa 7, 24
 520 0006 7860     		str	r0, [r7, #4]
 374:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   pOBInit->OptionType = OPTIONBYTE_ALL;
 521              		.loc 1 374 23
 522 0008 7B68     		ldr	r3, [r7, #4]
 523 000a 40F21F32 		movw	r2, #799
 524 000e 1A60     		str	r2, [r3]
 375:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 376:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   if ((pOBInit->WRPArea == OB_WRPAREA_BANK1_AREAA) || (pOBInit->WRPArea == OB_WRPAREA_BANK1_AREAB))
 525              		.loc 1 376 15
 526 0010 7B68     		ldr	r3, [r7, #4]
 527 0012 5B68     		ldr	r3, [r3, #4]
 528              		.loc 1 376 6
 529 0014 002B     		cmp	r3, #0
 530 0016 03D0     		beq	.L33
 531              		.loc 1 376 63 discriminator 1
 532 0018 7B68     		ldr	r3, [r7, #4]
 533 001a 5B68     		ldr	r3, [r3, #4]
 534              		.loc 1 376 52 discriminator 1
 535 001c 012B     		cmp	r3, #1
 536 001e 09D1     		bne	.L34
 537              	.L33:
 377:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   {
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 17


 378:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     /* Get write protection on the selected area */
 379:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     FLASH_OB_GetWRP(pOBInit->WRPArea, &(pOBInit->WRPStartOffset), &(pOBInit->WRPEndOffset));
 538              		.loc 1 379 5
 539 0020 7B68     		ldr	r3, [r7, #4]
 540 0022 5868     		ldr	r0, [r3, #4]
 541 0024 7B68     		ldr	r3, [r7, #4]
 542 0026 03F10801 		add	r1, r3, #8
 543 002a 7B68     		ldr	r3, [r7, #4]
 544 002c 0C33     		adds	r3, r3, #12
 545 002e 1A46     		mov	r2, r3
 546 0030 FFF7FEFF 		bl	FLASH_OB_GetWRP
 547              	.L34:
 380:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   }
 381:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 382:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Get Read protection level */
 383:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   pOBInit->RDPLevel = FLASH_OB_GetRDP();
 548              		.loc 1 383 23
 549 0034 FFF7FEFF 		bl	FLASH_OB_GetRDP
 550 0038 0246     		mov	r2, r0
 551              		.loc 1 383 21 discriminator 1
 552 003a 7B68     		ldr	r3, [r7, #4]
 553 003c 1A61     		str	r2, [r3, #16]
 384:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 385:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Get the user option bytes */
 386:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   pOBInit->UserConfig = FLASH_OB_GetUser();
 554              		.loc 1 386 25
 555 003e FFF7FEFF 		bl	FLASH_OB_GetUser
 556 0042 0246     		mov	r2, r0
 557              		.loc 1 386 23 discriminator 1
 558 0044 7B68     		ldr	r3, [r7, #4]
 559 0046 9A61     		str	r2, [r3, #24]
 387:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   pOBInit->UserType = OB_USER_ALL;
 560              		.loc 1 387 21
 561 0048 7B68     		ldr	r3, [r7, #4]
 562 004a 1C4A     		ldr	r2, .L35
 563 004c 5A61     		str	r2, [r3, #20]
 388:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 389:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Get the Zone 1A and 1B Proprietary code readout protection */
 390:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   FLASH_OB_GetPCROP(&(pOBInit->PCROPConfig), &(pOBInit->PCROP1AStartAddr), &(pOBInit->PCROP1AEndAdd
 564              		.loc 1 390 3
 565 004e 7B68     		ldr	r3, [r7, #4]
 566 0050 03F11C00 		add	r0, r3, #28
 567 0054 7B68     		ldr	r3, [r7, #4]
 568 0056 03F12001 		add	r1, r3, #32
 569 005a 7B68     		ldr	r3, [r7, #4]
 570 005c 03F12402 		add	r2, r3, #36
 571 0060 7B68     		ldr	r3, [r7, #4]
 572 0062 03F12804 		add	r4, r3, #40
 573 0066 7B68     		ldr	r3, [r7, #4]
 574 0068 2C33     		adds	r3, r3, #44
 575 006a 0093     		str	r3, [sp]
 576 006c 2346     		mov	r3, r4
 577 006e FFF7FEFF 		bl	FLASH_OB_GetPCROP
 391:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****                     &(pOBInit->PCROP1BStartAddr), &(pOBInit->PCROP1BEndAddr));
 392:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   pOBInit->PCROPConfig |= (OB_PCROP_ZONE_A | OB_PCROP_ZONE_B);
 578              		.loc 1 392 10
 579 0072 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 18


 580 0074 DB69     		ldr	r3, [r3, #28]
 581              		.loc 1 392 24
 582 0076 43F00302 		orr	r2, r3, #3
 583 007a 7B68     		ldr	r3, [r7, #4]
 584 007c DA61     		str	r2, [r3, #28]
 393:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 394:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Get the IPCC start Address */
 395:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   pOBInit->IPCCdataBufAddr = FLASH_OB_GetIPCCBufferAddr();
 585              		.loc 1 395 30
 586 007e FFF7FEFF 		bl	FLASH_OB_GetIPCCBufferAddr
 587 0082 0246     		mov	r2, r0
 588              		.loc 1 395 28 discriminator 1
 589 0084 7B68     		ldr	r3, [r7, #4]
 590 0086 9A64     		str	r2, [r3, #72]
 396:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 397:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Get the Secure Flash start address, Secure Backup RAM2a start address, Secure non-Backup RAM2b
 398:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   FLASH_OB_GetSecureMemoryConfig(&(pOBInit->SecureFlashStartAddr), &(pOBInit->SecureRAM2aStartAddr)
 591              		.loc 1 398 3
 592 0088 7B68     		ldr	r3, [r7, #4]
 593 008a 03F13000 		add	r0, r3, #48
 594 008e 7B68     		ldr	r3, [r7, #4]
 595 0090 03F13401 		add	r1, r3, #52
 596 0094 7B68     		ldr	r3, [r7, #4]
 597 0096 03F13802 		add	r2, r3, #56
 598 009a 7B68     		ldr	r3, [r7, #4]
 599 009c 3C33     		adds	r3, r3, #60
 600 009e FFF7FEFF 		bl	FLASH_OB_GetSecureMemoryConfig
 399:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****                                  &(pOBInit->SecureRAM2bStartAddr), &(pOBInit->SecureMode));
 400:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 401:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Get the M0+ Secure Boot reset vector and Secure Boot memory selection */
 402:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   FLASH_OB_GetC2BootResetConfig(&(pOBInit->C2SecureBootVectAddr), &(pOBInit->C2BootRegion));
 601              		.loc 1 402 3
 602 00a2 7B68     		ldr	r3, [r7, #4]
 603 00a4 03F14402 		add	r2, r3, #68
 604 00a8 7B68     		ldr	r3, [r7, #4]
 605 00aa 4033     		adds	r3, r3, #64
 606 00ac 1946     		mov	r1, r3
 607 00ae 1046     		mov	r0, r2
 608 00b0 FFF7FEFF 		bl	FLASH_OB_GetC2BootResetConfig
 403:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** }
 609              		.loc 1 403 1
 610 00b4 00BF     		nop
 611 00b6 0C37     		adds	r7, r7, #12
 612              	.LCFI18:
 613              		.cfi_def_cfa_offset 12
 614 00b8 BD46     		mov	sp, r7
 615              	.LCFI19:
 616              		.cfi_def_cfa_register 13
 617              		@ sp needed
 618 00ba 90BD     		pop	{r4, r7, pc}
 619              	.L36:
 620              		.align	2
 621              	.L35:
 622 00bc 007E8FEF 		.word	-275808768
 623              		.cfi_endproc
 624              	.LFE953:
 626              		.section	.text.HAL_FLASHEx_FlashEmptyCheck,"ax",%progbits
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 19


 627              		.align	1
 628              		.global	HAL_FLASHEx_FlashEmptyCheck
 629              		.syntax unified
 630              		.thumb
 631              		.thumb_func
 633              	HAL_FLASHEx_FlashEmptyCheck:
 634              	.LFB954:
 404:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 405:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /**
 406:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @brief  Flash Empty check
 407:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @note   This API checks if first location in Flash is programmed or not.
 408:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         This check is done once by Option Byte Loader.
 409:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @retval Returned value can be one of the following values:
 410:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref FLASH_PROG_NOT_EMPTY 1st location in Flash is programmed
 411:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref FLASH_PROG_EMPTY 1st location in Flash is empty
 412:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   */
 413:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** uint32_t HAL_FLASHEx_FlashEmptyCheck(void)
 414:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** {
 635              		.loc 1 414 1
 636              		.cfi_startproc
 637              		@ args = 0, pretend = 0, frame = 0
 638              		@ frame_needed = 1, uses_anonymous_args = 0
 639              		@ link register save eliminated.
 640 0000 80B4     		push	{r7}
 641              	.LCFI20:
 642              		.cfi_def_cfa_offset 4
 643              		.cfi_offset 7, -4
 644 0002 00AF     		add	r7, sp, #0
 645              	.LCFI21:
 646              		.cfi_def_cfa_register 7
 415:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   return (READ_BIT(FLASH->ACR, FLASH_ACR_EMPTY));
 647              		.loc 1 415 11
 648 0004 044B     		ldr	r3, .L39
 649 0006 1B68     		ldr	r3, [r3]
 650 0008 03F48033 		and	r3, r3, #65536
 416:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** }
 651              		.loc 1 416 1
 652 000c 1846     		mov	r0, r3
 653 000e BD46     		mov	sp, r7
 654              	.LCFI22:
 655              		.cfi_def_cfa_register 13
 656              		@ sp needed
 657 0010 5DF8047B 		ldr	r7, [sp], #4
 658              	.LCFI23:
 659              		.cfi_restore 7
 660              		.cfi_def_cfa_offset 0
 661 0014 7047     		bx	lr
 662              	.L40:
 663 0016 00BF     		.align	2
 664              	.L39:
 665 0018 00400058 		.word	1476411392
 666              		.cfi_endproc
 667              	.LFE954:
 669              		.section	.text.HAL_FLASHEx_ForceFlashEmpty,"ax",%progbits
 670              		.align	1
 671              		.global	HAL_FLASHEx_ForceFlashEmpty
 672              		.syntax unified
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 20


 673              		.thumb
 674              		.thumb_func
 676              	HAL_FLASHEx_ForceFlashEmpty:
 677              	.LFB955:
 417:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 418:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 419:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /**
 420:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @brief  Force Empty check value.
 421:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @note   Allows to modify program empty check value in order to force this
 422:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         information in Flash Interface, for all next reset that do not launch
 423:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         Option Byte Loader.
 424:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @param  FlashEmpty Specifies the empty check value
 425:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *          This parameter can be one of the following values:
 426:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *            @arg @ref FLASH_PROG_NOT_EMPTY 1st location in Flash is programmed
 427:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *            @arg @ref FLASH_PROG_EMPTY 1st location in Flash is empty
 428:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @retval None
 429:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   */
 430:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** void HAL_FLASHEx_ForceFlashEmpty(uint32_t FlashEmpty)
 431:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** {
 678              		.loc 1 431 1
 679              		.cfi_startproc
 680              		@ args = 0, pretend = 0, frame = 8
 681              		@ frame_needed = 1, uses_anonymous_args = 0
 682              		@ link register save eliminated.
 683 0000 80B4     		push	{r7}
 684              	.LCFI24:
 685              		.cfi_def_cfa_offset 4
 686              		.cfi_offset 7, -4
 687 0002 83B0     		sub	sp, sp, #12
 688              	.LCFI25:
 689              		.cfi_def_cfa_offset 16
 690 0004 00AF     		add	r7, sp, #0
 691              	.LCFI26:
 692              		.cfi_def_cfa_register 7
 693 0006 7860     		str	r0, [r7, #4]
 432:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   assert_param(IS_FLASH_EMPTY_CHECK(FlashEmpty));
 433:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 434:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   MODIFY_REG(FLASH->ACR, FLASH_ACR_EMPTY, FlashEmpty);
 694              		.loc 1 434 3
 695 0008 064B     		ldr	r3, .L42
 696 000a 1B68     		ldr	r3, [r3]
 697 000c 23F48032 		bic	r2, r3, #65536
 698 0010 0449     		ldr	r1, .L42
 699 0012 7B68     		ldr	r3, [r7, #4]
 700 0014 1343     		orrs	r3, r3, r2
 701 0016 0B60     		str	r3, [r1]
 435:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** }
 702              		.loc 1 435 1
 703 0018 00BF     		nop
 704 001a 0C37     		adds	r7, r7, #12
 705              	.LCFI27:
 706              		.cfi_def_cfa_offset 4
 707 001c BD46     		mov	sp, r7
 708              	.LCFI28:
 709              		.cfi_def_cfa_register 13
 710              		@ sp needed
 711 001e 5DF8047B 		ldr	r7, [sp], #4
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 21


 712              	.LCFI29:
 713              		.cfi_restore 7
 714              		.cfi_def_cfa_offset 0
 715 0022 7047     		bx	lr
 716              	.L43:
 717              		.align	2
 718              	.L42:
 719 0024 00400058 		.word	1476411392
 720              		.cfi_endproc
 721              	.LFE955:
 723              		.section	.text.HAL_FLASHEx_SuspendOperation,"ax",%progbits
 724              		.align	1
 725              		.global	HAL_FLASHEx_SuspendOperation
 726              		.syntax unified
 727              		.thumb
 728              		.thumb_func
 730              	HAL_FLASHEx_SuspendOperation:
 731              	.LFB956:
 436:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 437:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /**
 438:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @brief  Suspend new program or erase operation request.
 439:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @note   Any new Flash program and erase operation on both CPU side will be suspended
 440:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         until this bit and the same bit in Flash CPU2 access control register (FLASH_C2ACR) are
 441:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         cleared. The PESD bit in both the Flash status register (FLASH_SR) and Flash
 442:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         CPU2 status register (FLASH_C2SR) register will be set when at least one PES
 443:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         bit in FLASH_ACR or FLASH_C2ACR is set.
 444:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @retval None
 445:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   */
 446:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** void HAL_FLASHEx_SuspendOperation(void)
 447:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** {
 732              		.loc 1 447 1
 733              		.cfi_startproc
 734              		@ args = 0, pretend = 0, frame = 0
 735              		@ frame_needed = 1, uses_anonymous_args = 0
 736              		@ link register save eliminated.
 737 0000 80B4     		push	{r7}
 738              	.LCFI30:
 739              		.cfi_def_cfa_offset 4
 740              		.cfi_offset 7, -4
 741 0002 00AF     		add	r7, sp, #0
 742              	.LCFI31:
 743              		.cfi_def_cfa_register 7
 448:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   SET_BIT(FLASH->ACR, FLASH_ACR_PES);
 744              		.loc 1 448 3
 745 0004 054B     		ldr	r3, .L45
 746 0006 1B68     		ldr	r3, [r3]
 747 0008 044A     		ldr	r2, .L45
 748 000a 43F40043 		orr	r3, r3, #32768
 749 000e 1360     		str	r3, [r2]
 449:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** }
 750              		.loc 1 449 1
 751 0010 00BF     		nop
 752 0012 BD46     		mov	sp, r7
 753              	.LCFI32:
 754              		.cfi_def_cfa_register 13
 755              		@ sp needed
 756 0014 5DF8047B 		ldr	r7, [sp], #4
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 22


 757              	.LCFI33:
 758              		.cfi_restore 7
 759              		.cfi_def_cfa_offset 0
 760 0018 7047     		bx	lr
 761              	.L46:
 762 001a 00BF     		.align	2
 763              	.L45:
 764 001c 00400058 		.word	1476411392
 765              		.cfi_endproc
 766              	.LFE956:
 768              		.section	.text.HAL_FLASHEx_AllowOperation,"ax",%progbits
 769              		.align	1
 770              		.global	HAL_FLASHEx_AllowOperation
 771              		.syntax unified
 772              		.thumb
 773              		.thumb_func
 775              	HAL_FLASHEx_AllowOperation:
 776              	.LFB957:
 450:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 451:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /**
 452:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @brief  Allow new program or erase operation request.
 453:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @note   Any new Flash program and erase operation on both CPU side will be allowed
 454:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         until one of this bit or the same bit in Flash CPU2 access control register (FLASH_C2AC
 455:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         set. The PESD bit in both the Flash status register (FLASH_SR) and Flash
 456:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         CPU2 status register (FLASH_C2SR) register will be clear when both PES
 457:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         bit in FLASH_ACR or FLASH_C2ACR is cleared.
 458:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @retval None
 459:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   */
 460:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** void HAL_FLASHEx_AllowOperation(void)
 461:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** {
 777              		.loc 1 461 1
 778              		.cfi_startproc
 779              		@ args = 0, pretend = 0, frame = 0
 780              		@ frame_needed = 1, uses_anonymous_args = 0
 781              		@ link register save eliminated.
 782 0000 80B4     		push	{r7}
 783              	.LCFI34:
 784              		.cfi_def_cfa_offset 4
 785              		.cfi_offset 7, -4
 786 0002 00AF     		add	r7, sp, #0
 787              	.LCFI35:
 788              		.cfi_def_cfa_register 7
 462:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   CLEAR_BIT(FLASH->ACR, FLASH_ACR_PES);
 789              		.loc 1 462 3
 790 0004 054B     		ldr	r3, .L48
 791 0006 1B68     		ldr	r3, [r3]
 792 0008 044A     		ldr	r2, .L48
 793 000a 23F40043 		bic	r3, r3, #32768
 794 000e 1360     		str	r3, [r2]
 463:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** }
 795              		.loc 1 463 1
 796 0010 00BF     		nop
 797 0012 BD46     		mov	sp, r7
 798              	.LCFI36:
 799              		.cfi_def_cfa_register 13
 800              		@ sp needed
 801 0014 5DF8047B 		ldr	r7, [sp], #4
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 23


 802              	.LCFI37:
 803              		.cfi_restore 7
 804              		.cfi_def_cfa_offset 0
 805 0018 7047     		bx	lr
 806              	.L49:
 807 001a 00BF     		.align	2
 808              	.L48:
 809 001c 00400058 		.word	1476411392
 810              		.cfi_endproc
 811              	.LFE957:
 813              		.section	.text.HAL_FLASHEx_IsOperationSuspended,"ax",%progbits
 814              		.align	1
 815              		.global	HAL_FLASHEx_IsOperationSuspended
 816              		.syntax unified
 817              		.thumb
 818              		.thumb_func
 820              	HAL_FLASHEx_IsOperationSuspended:
 821              	.LFB958:
 464:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 465:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /**
 466:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @brief  Check if new program or erase operation request from CPU1 or CPU2 is suspended
 467:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @note   Any new Flash program and erase operation on both CPU side will be allowed
 468:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         until one of this bit or the same bit in Flash CPU2 access control register (FLASH_C2AC
 469:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         set. The PESD bit in both the Flash status register (FLASH_SR) and Flash
 470:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         CPU2 status register (FLASH_C2SR) register will be cleared when both PES
 471:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         bit in FLASH_ACR and FLASH_C2ACR are cleared.
 472:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @retval Status
 473:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *          - 0 : No suspended flash operation
 474:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *          - 1 : Flash operation is suspended
 475:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   */
 476:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** uint32_t HAL_FLASHEx_IsOperationSuspended(void)
 477:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** {
 822              		.loc 1 477 1
 823              		.cfi_startproc
 824              		@ args = 0, pretend = 0, frame = 8
 825              		@ frame_needed = 1, uses_anonymous_args = 0
 826              		@ link register save eliminated.
 827 0000 80B4     		push	{r7}
 828              	.LCFI38:
 829              		.cfi_def_cfa_offset 4
 830              		.cfi_offset 7, -4
 831 0002 83B0     		sub	sp, sp, #12
 832              	.LCFI39:
 833              		.cfi_def_cfa_offset 16
 834 0004 00AF     		add	r7, sp, #0
 835              	.LCFI40:
 836              		.cfi_def_cfa_register 7
 478:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   uint32_t status = 0U;
 837              		.loc 1 478 12
 838 0006 0023     		movs	r3, #0
 839 0008 7B60     		str	r3, [r7, #4]
 479:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 480:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   if (READ_BIT(FLASH->SR, FLASH_SR_PESD) == FLASH_SR_PESD)
 840              		.loc 1 480 7
 841 000a 084B     		ldr	r3, .L53
 842 000c 1B69     		ldr	r3, [r3, #16]
 843 000e 03F40023 		and	r3, r3, #524288
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 24


 844              		.loc 1 480 6
 845 0012 B3F5002F 		cmp	r3, #524288
 846 0016 01D1     		bne	.L51
 481:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   {
 482:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     status = 1U;
 847              		.loc 1 482 12
 848 0018 0123     		movs	r3, #1
 849 001a 7B60     		str	r3, [r7, #4]
 850              	.L51:
 483:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   }
 484:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 485:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   return status;
 851              		.loc 1 485 10
 852 001c 7B68     		ldr	r3, [r7, #4]
 486:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** }
 853              		.loc 1 486 1
 854 001e 1846     		mov	r0, r3
 855 0020 0C37     		adds	r7, r7, #12
 856              	.LCFI41:
 857              		.cfi_def_cfa_offset 4
 858 0022 BD46     		mov	sp, r7
 859              	.LCFI42:
 860              		.cfi_def_cfa_register 13
 861              		@ sp needed
 862 0024 5DF8047B 		ldr	r7, [sp], #4
 863              	.LCFI43:
 864              		.cfi_restore 7
 865              		.cfi_def_cfa_offset 0
 866 0028 7047     		bx	lr
 867              	.L54:
 868 002a 00BF     		.align	2
 869              	.L53:
 870 002c 00400058 		.word	1476411392
 871              		.cfi_endproc
 872              	.LFE958:
 874              		.section	.text.FLASH_PageErase,"ax",%progbits
 875              		.align	1
 876              		.global	FLASH_PageErase
 877              		.syntax unified
 878              		.thumb
 879              		.thumb_func
 881              	FLASH_PageErase:
 882              	.LFB959:
 487:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 488:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /**
 489:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @}
 490:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   */
 491:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 492:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /**
 493:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @}
 494:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   */
 495:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 496:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /* Private functions ---------------------------------------------------------*/
 497:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /** @addtogroup FLASHEx_Private_Functions
 498:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @{
 499:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   */
 500:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 25


 501:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /**
 502:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @brief  Erase the specified FLASH memory page.
 503:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @param  Page FLASH page to erase
 504:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         This parameter must be a value between 0 and (max number of pages in Flash - 1)
 505:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @retval None
 506:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   */
 507:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** void FLASH_PageErase(uint32_t Page)
 508:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** {
 883              		.loc 1 508 1
 884              		.cfi_startproc
 885              		@ args = 0, pretend = 0, frame = 8
 886              		@ frame_needed = 1, uses_anonymous_args = 0
 887              		@ link register save eliminated.
 888 0000 80B4     		push	{r7}
 889              	.LCFI44:
 890              		.cfi_def_cfa_offset 4
 891              		.cfi_offset 7, -4
 892 0002 83B0     		sub	sp, sp, #12
 893              	.LCFI45:
 894              		.cfi_def_cfa_offset 16
 895 0004 00AF     		add	r7, sp, #0
 896              	.LCFI46:
 897              		.cfi_def_cfa_register 7
 898 0006 7860     		str	r0, [r7, #4]
 509:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Check the parameters */
 510:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   assert_param(IS_FLASH_PAGE(Page));
 511:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 512:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Proceed to erase the page */
 513:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   MODIFY_REG(FLASH->CR, FLASH_CR_PNB, ((Page << FLASH_CR_PNB_Pos) | FLASH_CR_PER | FLASH_CR_STRT));
 899              		.loc 1 513 3
 900 0008 094B     		ldr	r3, .L56
 901 000a 5B69     		ldr	r3, [r3, #20]
 902 000c 23F4FF62 		bic	r2, r3, #2040
 903 0010 7B68     		ldr	r3, [r7, #4]
 904 0012 DB00     		lsls	r3, r3, #3
 905 0014 1343     		orrs	r3, r3, r2
 906 0016 064A     		ldr	r2, .L56
 907 0018 43F48033 		orr	r3, r3, #65536
 908 001c 43F00203 		orr	r3, r3, #2
 909 0020 5361     		str	r3, [r2, #20]
 514:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** }
 910              		.loc 1 514 1
 911 0022 00BF     		nop
 912 0024 0C37     		adds	r7, r7, #12
 913              	.LCFI47:
 914              		.cfi_def_cfa_offset 4
 915 0026 BD46     		mov	sp, r7
 916              	.LCFI48:
 917              		.cfi_def_cfa_register 13
 918              		@ sp needed
 919 0028 5DF8047B 		ldr	r7, [sp], #4
 920              	.LCFI49:
 921              		.cfi_restore 7
 922              		.cfi_def_cfa_offset 0
 923 002c 7047     		bx	lr
 924              	.L57:
 925 002e 00BF     		.align	2
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 26


 926              	.L56:
 927 0030 00400058 		.word	1476411392
 928              		.cfi_endproc
 929              	.LFE959:
 931              		.section	.text.FLASH_FlushCaches,"ax",%progbits
 932              		.align	1
 933              		.syntax unified
 934              		.thumb
 935              		.thumb_func
 937              	FLASH_FlushCaches:
 938              	.LFB960:
 515:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 516:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /**
 517:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @brief  Flush the instruction and data caches.
 518:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @retval None
 519:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   */
 520:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** static void FLASH_FlushCaches(void)
 521:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** {
 939              		.loc 1 521 1
 940              		.cfi_startproc
 941              		@ args = 0, pretend = 0, frame = 0
 942              		@ frame_needed = 1, uses_anonymous_args = 0
 943              		@ link register save eliminated.
 944 0000 80B4     		push	{r7}
 945              	.LCFI50:
 946              		.cfi_def_cfa_offset 4
 947              		.cfi_offset 7, -4
 948 0002 00AF     		add	r7, sp, #0
 949              	.LCFI51:
 950              		.cfi_def_cfa_register 7
 522:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Flush instruction cache  */
 523:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   if (READ_BIT(FLASH->ACR, FLASH_ACR_ICEN) == FLASH_ACR_ICEN)
 951              		.loc 1 523 7
 952 0004 214B     		ldr	r3, .L62
 953 0006 1B68     		ldr	r3, [r3]
 954 0008 03F40073 		and	r3, r3, #512
 955              		.loc 1 523 6
 956 000c B3F5007F 		cmp	r3, #512
 957 0010 17D1     		bne	.L59
 524:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   {
 525:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     /* Disable instruction cache  */
 526:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     __HAL_FLASH_INSTRUCTION_CACHE_DISABLE();
 958              		.loc 1 526 5
 959 0012 1E4B     		ldr	r3, .L62
 960 0014 1B68     		ldr	r3, [r3]
 961 0016 1D4A     		ldr	r2, .L62
 962 0018 23F40073 		bic	r3, r3, #512
 963 001c 1360     		str	r3, [r2]
 527:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     /* Reset instruction cache */
 528:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     __HAL_FLASH_INSTRUCTION_CACHE_RESET();
 964              		.loc 1 528 5
 965 001e 1B4B     		ldr	r3, .L62
 966 0020 1B68     		ldr	r3, [r3]
 967 0022 1A4A     		ldr	r2, .L62
 968 0024 43F40063 		orr	r3, r3, #2048
 969 0028 1360     		str	r3, [r2]
 970 002a 184B     		ldr	r3, .L62
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 27


 971 002c 1B68     		ldr	r3, [r3]
 972 002e 174A     		ldr	r2, .L62
 973 0030 23F40063 		bic	r3, r3, #2048
 974 0034 1360     		str	r3, [r2]
 529:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     /* Enable instruction cache */
 530:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     __HAL_FLASH_INSTRUCTION_CACHE_ENABLE();
 975              		.loc 1 530 5
 976 0036 154B     		ldr	r3, .L62
 977 0038 1B68     		ldr	r3, [r3]
 978 003a 144A     		ldr	r2, .L62
 979 003c 43F40073 		orr	r3, r3, #512
 980 0040 1360     		str	r3, [r2]
 981              	.L59:
 531:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   }
 532:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 533:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Flush data cache */
 534:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   if (READ_BIT(FLASH->ACR, FLASH_ACR_DCEN) == FLASH_ACR_DCEN)
 982              		.loc 1 534 7
 983 0042 124B     		ldr	r3, .L62
 984 0044 1B68     		ldr	r3, [r3]
 985 0046 03F48063 		and	r3, r3, #1024
 986              		.loc 1 534 6
 987 004a B3F5806F 		cmp	r3, #1024
 988 004e 17D1     		bne	.L61
 535:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   {
 536:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     /* Disable data cache  */
 537:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     __HAL_FLASH_DATA_CACHE_DISABLE();
 989              		.loc 1 537 5
 990 0050 0E4B     		ldr	r3, .L62
 991 0052 1B68     		ldr	r3, [r3]
 992 0054 0D4A     		ldr	r2, .L62
 993 0056 23F48063 		bic	r3, r3, #1024
 994 005a 1360     		str	r3, [r2]
 538:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     /* Reset data cache */
 539:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     __HAL_FLASH_DATA_CACHE_RESET();
 995              		.loc 1 539 5
 996 005c 0B4B     		ldr	r3, .L62
 997 005e 1B68     		ldr	r3, [r3]
 998 0060 0A4A     		ldr	r2, .L62
 999 0062 43F48053 		orr	r3, r3, #4096
 1000 0066 1360     		str	r3, [r2]
 1001 0068 084B     		ldr	r3, .L62
 1002 006a 1B68     		ldr	r3, [r3]
 1003 006c 074A     		ldr	r2, .L62
 1004 006e 23F48053 		bic	r3, r3, #4096
 1005 0072 1360     		str	r3, [r2]
 540:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     /* Enable data cache */
 541:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     __HAL_FLASH_DATA_CACHE_ENABLE();
 1006              		.loc 1 541 5
 1007 0074 054B     		ldr	r3, .L62
 1008 0076 1B68     		ldr	r3, [r3]
 1009 0078 044A     		ldr	r2, .L62
 1010 007a 43F48063 		orr	r3, r3, #1024
 1011 007e 1360     		str	r3, [r2]
 1012              	.L61:
 542:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   }
 543:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** }
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 28


 1013              		.loc 1 543 1
 1014 0080 00BF     		nop
 1015 0082 BD46     		mov	sp, r7
 1016              	.LCFI52:
 1017              		.cfi_def_cfa_register 13
 1018              		@ sp needed
 1019 0084 5DF8047B 		ldr	r7, [sp], #4
 1020              	.LCFI53:
 1021              		.cfi_restore 7
 1022              		.cfi_def_cfa_offset 0
 1023 0088 7047     		bx	lr
 1024              	.L63:
 1025 008a 00BF     		.align	2
 1026              	.L62:
 1027 008c 00400058 		.word	1476411392
 1028              		.cfi_endproc
 1029              	.LFE960:
 1031              		.section	.text.FLASH_AcknowledgePageErase,"ax",%progbits
 1032              		.align	1
 1033              		.syntax unified
 1034              		.thumb
 1035              		.thumb_func
 1037              	FLASH_AcknowledgePageErase:
 1038              	.LFB961:
 544:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 545:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /**
 546:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @brief  Acknlowldge the page erase operation.
 547:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @retval None
 548:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   */
 549:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** static void FLASH_AcknowledgePageErase(void)
 550:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** {
 1039              		.loc 1 550 1
 1040              		.cfi_startproc
 1041              		@ args = 0, pretend = 0, frame = 0
 1042              		@ frame_needed = 1, uses_anonymous_args = 0
 1043              		@ link register save eliminated.
 1044 0000 80B4     		push	{r7}
 1045              	.LCFI54:
 1046              		.cfi_def_cfa_offset 4
 1047              		.cfi_offset 7, -4
 1048 0002 00AF     		add	r7, sp, #0
 1049              	.LCFI55:
 1050              		.cfi_def_cfa_register 7
 551:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   CLEAR_BIT(FLASH->CR, (FLASH_CR_PER | FLASH_CR_PNB));
 1051              		.loc 1 551 3
 1052 0004 064B     		ldr	r3, .L65
 1053 0006 5B69     		ldr	r3, [r3, #20]
 1054 0008 054A     		ldr	r2, .L65
 1055 000a 23F4FF63 		bic	r3, r3, #2040
 1056 000e 23F00203 		bic	r3, r3, #2
 1057 0012 5361     		str	r3, [r2, #20]
 552:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** }
 1058              		.loc 1 552 1
 1059 0014 00BF     		nop
 1060 0016 BD46     		mov	sp, r7
 1061              	.LCFI56:
 1062              		.cfi_def_cfa_register 13
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 29


 1063              		@ sp needed
 1064 0018 5DF8047B 		ldr	r7, [sp], #4
 1065              	.LCFI57:
 1066              		.cfi_restore 7
 1067              		.cfi_def_cfa_offset 0
 1068 001c 7047     		bx	lr
 1069              	.L66:
 1070 001e 00BF     		.align	2
 1071              	.L65:
 1072 0020 00400058 		.word	1476411392
 1073              		.cfi_endproc
 1074              	.LFE961:
 1076              		.section	.text.FLASH_OB_WRPConfig,"ax",%progbits
 1077              		.align	1
 1078              		.syntax unified
 1079              		.thumb
 1080              		.thumb_func
 1082              	FLASH_OB_WRPConfig:
 1083              	.LFB962:
 553:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 554:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /**
 555:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @brief  Configure the write protection of the desired pages.
 556:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @note   When WRP is active in a zone, it cannot be erased or programmed.
 557:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         Consequently, a software mass erase cannot be performed if one zone
 558:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         is write-protected.
 559:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @note   When the memory read protection level is selected (RDP level = 1),
 560:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         it is not possible to program or erase Flash memory if the CPU debug
 561:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         features are connected (JTAG or single wire) or boot code is being
 562:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         executed from RAM or System flash, even if WRP is not activated.
 563:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @note   To configure the WRP options, the option lock bit OPTLOCK must be
 564:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         cleared with the call of the @ref HAL_FLASH_OB_Unlock() function.
 565:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @note   To validate the WRP options, the option bytes must be reloaded
 566:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         through the call of the @ref HAL_FLASH_OB_Launch() function.
 567:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @param  WRPArea Specifies the area to be configured.
 568:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *          This parameter can be one of the following values:
 569:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *            @arg @ref OB_WRPAREA_BANK1_AREAA Flash Bank 1 Area A
 570:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *            @arg @ref OB_WRPAREA_BANK1_AREAB Flash Bank 1 Area B
 571:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @param  WRPStartOffset Specifies the start page of the write protected area
 572:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *          This parameter can be page number between 0 and (max number of pages in the Flash - 1)
 573:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @param  WRDPEndOffset Specifies the end page of the write protected area
 574:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *          This parameter can be page number between WRPStartOffset and (max number of pages in t
 575:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @retval None
 576:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   */
 577:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** static void FLASH_OB_WRPConfig(uint32_t WRPArea, uint32_t WRPStartOffset, uint32_t WRDPEndOffset)
 578:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** {
 1084              		.loc 1 578 1
 1085              		.cfi_startproc
 1086              		@ args = 0, pretend = 0, frame = 16
 1087              		@ frame_needed = 1, uses_anonymous_args = 0
 1088              		@ link register save eliminated.
 1089 0000 80B4     		push	{r7}
 1090              	.LCFI58:
 1091              		.cfi_def_cfa_offset 4
 1092              		.cfi_offset 7, -4
 1093 0002 85B0     		sub	sp, sp, #20
 1094              	.LCFI59:
 1095              		.cfi_def_cfa_offset 24
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 30


 1096 0004 00AF     		add	r7, sp, #0
 1097              	.LCFI60:
 1098              		.cfi_def_cfa_register 7
 1099 0006 F860     		str	r0, [r7, #12]
 1100 0008 B960     		str	r1, [r7, #8]
 1101 000a 7A60     		str	r2, [r7, #4]
 579:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Check the parameters */
 580:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   assert_param(IS_OB_WRPAREA(WRPArea));
 581:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   assert_param(IS_FLASH_PAGE(WRPStartOffset));
 582:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   assert_param(IS_FLASH_PAGE(WRDPEndOffset));
 583:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 584:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Configure the write protected area */
 585:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   if (WRPArea == OB_WRPAREA_BANK1_AREAA)
 1102              		.loc 1 585 6
 1103 000c FB68     		ldr	r3, [r7, #12]
 1104 000e 002B     		cmp	r3, #0
 1105 0010 0BD1     		bne	.L68
 586:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   {
 587:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     MODIFY_REG(FLASH->WRP1AR, (FLASH_WRP1AR_WRP1A_STRT | FLASH_WRP1AR_WRP1A_END),
 1106              		.loc 1 587 5
 1107 0012 0E4B     		ldr	r3, .L71
 1108 0014 DB6A     		ldr	r3, [r3, #44]
 1109 0016 03F0FF22 		and	r2, r3, #-16711936
 1110 001a 7B68     		ldr	r3, [r7, #4]
 1111 001c 1904     		lsls	r1, r3, #16
 1112 001e BB68     		ldr	r3, [r7, #8]
 1113 0020 0B43     		orrs	r3, r3, r1
 1114 0022 0A49     		ldr	r1, .L71
 1115 0024 1343     		orrs	r3, r3, r2
 1116 0026 CB62     		str	r3, [r1, #44]
 588:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****                (WRPStartOffset | (WRDPEndOffset << FLASH_WRP1AR_WRP1A_END_Pos)));
 589:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   }
 590:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   else /* OB_WRPAREA_BANK1_AREAB */
 591:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   {
 592:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     MODIFY_REG(FLASH->WRP1BR, (FLASH_WRP1BR_WRP1B_STRT | FLASH_WRP1BR_WRP1B_END),
 593:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****                (WRPStartOffset | (WRDPEndOffset << FLASH_WRP1AR_WRP1A_END_Pos)));
 594:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   }
 595:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** }
 1117              		.loc 1 595 1
 1118 0028 0AE0     		b	.L70
 1119              	.L68:
 592:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****                (WRPStartOffset | (WRDPEndOffset << FLASH_WRP1AR_WRP1A_END_Pos)));
 1120              		.loc 1 592 5
 1121 002a 084B     		ldr	r3, .L71
 1122 002c 1B6B     		ldr	r3, [r3, #48]
 1123 002e 03F0FF22 		and	r2, r3, #-16711936
 1124 0032 7B68     		ldr	r3, [r7, #4]
 1125 0034 1904     		lsls	r1, r3, #16
 1126 0036 BB68     		ldr	r3, [r7, #8]
 1127 0038 0B43     		orrs	r3, r3, r1
 1128 003a 0449     		ldr	r1, .L71
 1129 003c 1343     		orrs	r3, r3, r2
 1130 003e 0B63     		str	r3, [r1, #48]
 1131              	.L70:
 1132              		.loc 1 595 1
 1133 0040 00BF     		nop
 1134 0042 1437     		adds	r7, r7, #20
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 31


 1135              	.LCFI61:
 1136              		.cfi_def_cfa_offset 4
 1137 0044 BD46     		mov	sp, r7
 1138              	.LCFI62:
 1139              		.cfi_def_cfa_register 13
 1140              		@ sp needed
 1141 0046 5DF8047B 		ldr	r7, [sp], #4
 1142              	.LCFI63:
 1143              		.cfi_restore 7
 1144              		.cfi_def_cfa_offset 0
 1145 004a 7047     		bx	lr
 1146              	.L72:
 1147              		.align	2
 1148              	.L71:
 1149 004c 00400058 		.word	1476411392
 1150              		.cfi_endproc
 1151              	.LFE962:
 1153              		.section	.text.FLASH_OB_OptrConfig,"ax",%progbits
 1154              		.align	1
 1155              		.syntax unified
 1156              		.thumb
 1157              		.thumb_func
 1159              	FLASH_OB_OptrConfig:
 1160              	.LFB963:
 596:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 597:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /**
 598:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @brief  Set user & RDP configuration
 599:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @note   !!! Warning : When enabling OB_RDP level 2 it's no more possible
 600:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         to go back to level 1 or 0 !!!
 601:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @param  UserType The FLASH User Option Bytes to be modified
 602:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         This parameter can be a combination of all the following values:
 603:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref OB_USER_BOR_LEV or @ref OB_USER_nRST_STOP or @ref OB_USER_nRST_STDBY or
 604:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref OB_USER_nRST_SHDW or @ref OB_USER_IWDG_SW or @ref OB_USER_IWDG_STOP or
 605:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref OB_USER_IWDG_STDBY or @ref OB_USER_WWDG_SW or @ref OB_USER_nBOOT1 or
 606:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref OB_USER_SRAM2PE or @ref OB_USER_SRAM2RST or @ref OB_USER_nSWBOOT0 or
 607:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref OB_USER_nBOOT0 or @ref OB_USER_AGC_TRIM or @ref OB_USER_ALL
 608:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @param  UserConfig The FLASH User Option Bytes values.
 609:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         This parameter can be a combination of all the following values:
 610:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref OB_BOR_LEVEL_0 or @ref OB_BOR_LEVEL_1 or ... or @ref OB_BOR_LEVEL_4
 611:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref OB_STOP_RST or @ref OB_STOP_NORST
 612:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref OB_STANDBY_RST or @ref OB_STANDBY_NORST
 613:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref OB_SHUTDOWN_RST or @ref OB_SHUTDOWN_NORST
 614:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref OB_IRH_ENABLE or @ref OB_IRH_DISABLE (*)
 615:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref OB_IWDG_SW or @ref OB_IWDG_HW
 616:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref OB_IWDG_STOP_FREEZE or @ref OB_IWDG_STOP_RUN
 617:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref OB_IWDG_STDBY_FREEZE or @ref OB_IWDG_STDBY_RUN
 618:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref OB_WWDG_SW or @ref OB_WWDG_HW
 619:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref OB_BOOT1_SRAM or @ref OB_BOOT1_SYSTEM
 620:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref OB_SRAM2_PARITY_ENABLE or @ref OB_SRAM2_PARITY_DISABLE
 621:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref OB_SRAM2_RST_ERASE or @ref OB_SRAM2_RST_NOT_ERASE
 622:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref OB_BOOT0_FROM_OB or @ref OB_BOOT0_FROM_PIN
 623:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref OB_BOOT0_RESET or @ref OB_BOOT0_SET
 624:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref OB_RESET_MODE_INPUT_ONLY or @ref OB_RESET_MODE_GPIO or @ref OB_RESET_MODE_INP
 625:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref OB_AGC_TRIM_0 or @ref OB_AGC_TRIM_1 or ... or @ref OB_AGC_TRIM_7
 626:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @param  RDPLevel: specifies the read protection level.
 627:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         This parameter can be one of the following values:
 628:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *            @arg @ref OB_RDP_LEVEL_0 No protection
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 32


 629:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *            @arg @ref OB_RDP_LEVEL_1 Read protection of the memory
 630:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *            @arg @ref OB_RDP_LEVEL_2 Full chip protection
 631:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @retval None
 632:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   */
 633:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** static void FLASH_OB_OptrConfig(uint32_t UserType, uint32_t UserConfig, uint32_t RDPLevel)
 634:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** {
 1161              		.loc 1 634 1
 1162              		.cfi_startproc
 1163              		@ args = 0, pretend = 0, frame = 24
 1164              		@ frame_needed = 1, uses_anonymous_args = 0
 1165              		@ link register save eliminated.
 1166 0000 80B4     		push	{r7}
 1167              	.LCFI64:
 1168              		.cfi_def_cfa_offset 4
 1169              		.cfi_offset 7, -4
 1170 0002 87B0     		sub	sp, sp, #28
 1171              	.LCFI65:
 1172              		.cfi_def_cfa_offset 32
 1173 0004 00AF     		add	r7, sp, #0
 1174              	.LCFI66:
 1175              		.cfi_def_cfa_register 7
 1176 0006 F860     		str	r0, [r7, #12]
 1177 0008 B960     		str	r1, [r7, #8]
 1178 000a 7A60     		str	r2, [r7, #4]
 635:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   uint32_t optr;
 636:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 637:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Check the parameters */
 638:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   assert_param(IS_OB_USER_TYPE(UserType));
 639:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   assert_param(IS_OB_USER_CONFIG(UserType, UserConfig));
 640:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   assert_param(IS_OB_RDP_LEVEL(RDPLevel));
 641:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 642:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Configure the RDP level in the option bytes register */
 643:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   optr = FLASH->OPTR;
 1179              		.loc 1 643 15
 1180 000c 0B4B     		ldr	r3, .L74
 1181              		.loc 1 643 8
 1182 000e 1B6A     		ldr	r3, [r3, #32]
 1183 0010 7B61     		str	r3, [r7, #20]
 644:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   optr &= ~(UserType | FLASH_OPTR_RDP);
 1184              		.loc 1 644 22
 1185 0012 FB68     		ldr	r3, [r7, #12]
 1186 0014 43F0FF03 		orr	r3, r3, #255
 1187              		.loc 1 644 11
 1188 0018 DB43     		mvns	r3, r3
 1189              		.loc 1 644 8
 1190 001a 7A69     		ldr	r2, [r7, #20]
 1191 001c 1340     		ands	r3, r3, r2
 1192 001e 7B61     		str	r3, [r7, #20]
 645:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   FLASH->OPTR = (optr | UserConfig | RDPLevel);
 1193              		.loc 1 645 23
 1194 0020 7A69     		ldr	r2, [r7, #20]
 1195 0022 BB68     		ldr	r3, [r7, #8]
 1196 0024 1A43     		orrs	r2, r2, r3
 1197              		.loc 1 645 8
 1198 0026 0549     		ldr	r1, .L74
 1199              		.loc 1 645 36
 1200 0028 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 33


 1201 002a 1343     		orrs	r3, r3, r2
 1202              		.loc 1 645 15
 1203 002c 0B62     		str	r3, [r1, #32]
 646:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** }
 1204              		.loc 1 646 1
 1205 002e 00BF     		nop
 1206 0030 1C37     		adds	r7, r7, #28
 1207              	.LCFI67:
 1208              		.cfi_def_cfa_offset 4
 1209 0032 BD46     		mov	sp, r7
 1210              	.LCFI68:
 1211              		.cfi_def_cfa_register 13
 1212              		@ sp needed
 1213 0034 5DF8047B 		ldr	r7, [sp], #4
 1214              	.LCFI69:
 1215              		.cfi_restore 7
 1216              		.cfi_def_cfa_offset 0
 1217 0038 7047     		bx	lr
 1218              	.L75:
 1219 003a 00BF     		.align	2
 1220              	.L74:
 1221 003c 00400058 		.word	1476411392
 1222              		.cfi_endproc
 1223              	.LFE963:
 1225              		.section	.text.FLASH_OB_PCROP1AConfig,"ax",%progbits
 1226              		.align	1
 1227              		.syntax unified
 1228              		.thumb
 1229              		.thumb_func
 1231              	FLASH_OB_PCROP1AConfig:
 1232              	.LFB964:
 647:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 648:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /**
 649:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @brief  Configure the Zone 1A Proprietary code readout protection of the desired addresses,
 650:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         and erase configuration on RDP regression.
 651:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @note   To configure the PCROP options, the option lock bit OPTLOCK must be
 652:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         cleared with the call of the @ref HAL_FLASH_OB_Unlock() function.
 653:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @note   To validate the PCROP options, the option bytes must be reloaded
 654:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         through the call of the @ref HAL_FLASH_OB_Launch() function.
 655:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @param  PCROPConfig: specifies the erase configuration (OB_PCROP_RDP_NOT_ERASE or OB_PCROP_RDP_
 656:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         on RDP level 1 regression.
 657:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @param  PCROP1AStartAddr Specifies the Zone 1A Start address of the Proprietary code readout pr
 658:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         This parameter can be an address between begin and end of the flash
 659:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @param  PCROP1AEndAddr Specifies the Zone 1A end address of the Proprietary code readout protec
 660:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         This parameter can be an address between PCROP1AStartAddr and end of the flash
 661:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @retval None
 662:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   */
 663:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** static void FLASH_OB_PCROP1AConfig(uint32_t PCROPConfig, uint32_t PCROP1AStartAddr, uint32_t PCROP1
 664:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** {
 1233              		.loc 1 664 1
 1234              		.cfi_startproc
 1235              		@ args = 0, pretend = 0, frame = 32
 1236              		@ frame_needed = 1, uses_anonymous_args = 0
 1237              		@ link register save eliminated.
 1238 0000 80B4     		push	{r7}
 1239              	.LCFI70:
 1240              		.cfi_def_cfa_offset 4
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 34


 1241              		.cfi_offset 7, -4
 1242 0002 89B0     		sub	sp, sp, #36
 1243              	.LCFI71:
 1244              		.cfi_def_cfa_offset 40
 1245 0004 00AF     		add	r7, sp, #0
 1246              	.LCFI72:
 1247              		.cfi_def_cfa_register 7
 1248 0006 F860     		str	r0, [r7, #12]
 1249 0008 B960     		str	r1, [r7, #8]
 1250 000a 7A60     		str	r2, [r7, #4]
 665:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   uint32_t startoffset;
 666:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   uint32_t endoffset;
 667:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   uint32_t pcrop1aend;
 668:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 669:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Check the parameters */
 670:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   assert_param(IS_OB_PCROP_CONFIG(PCROPConfig));
 671:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   assert_param(IS_FLASH_MAIN_MEM_ADDRESS(PCROP1AStartAddr));
 672:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   assert_param(IS_FLASH_MAIN_MEM_ADDRESS(PCROP1AEndAddr));
 673:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 674:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* get pcrop 1A end register */
 675:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   pcrop1aend = FLASH->PCROP1AER;
 1251              		.loc 1 675 21
 1252 000c 174B     		ldr	r3, .L79
 1253              		.loc 1 675 14
 1254 000e 9B6A     		ldr	r3, [r3, #40]
 1255 0010 FB61     		str	r3, [r7, #28]
 676:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 677:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Configure the Proprietary code readout protection offset */
 678:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   if ((PCROPConfig & OB_PCROP_ZONE_A) != 0U)
 1256              		.loc 1 678 20
 1257 0012 FB68     		ldr	r3, [r7, #12]
 1258 0014 03F00103 		and	r3, r3, #1
 1259              		.loc 1 678 6
 1260 0018 002B     		cmp	r3, #0
 1261 001a 16D0     		beq	.L77
 679:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   {
 680:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     /* Compute offset depending on pcrop granularity */
 681:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     startoffset = ((PCROP1AStartAddr - FLASH_BASE) >> FLASH_PCROP_GRANULARITY_OFFSET); /* 2K pages 
 1262              		.loc 1 681 38
 1263 001c BB68     		ldr	r3, [r7, #8]
 1264 001e 03F17843 		add	r3, r3, #-134217728
 1265              		.loc 1 681 17
 1266 0022 DB0A     		lsrs	r3, r3, #11
 1267 0024 BB61     		str	r3, [r7, #24]
 682:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     endoffset = ((PCROP1AEndAddr - FLASH_BASE) >> FLASH_PCROP_GRANULARITY_OFFSET); /* 2K pages */
 1268              		.loc 1 682 34
 1269 0026 7B68     		ldr	r3, [r7, #4]
 1270 0028 03F17843 		add	r3, r3, #-134217728
 1271              		.loc 1 682 15
 1272 002c DB0A     		lsrs	r3, r3, #11
 1273 002e 7B61     		str	r3, [r7, #20]
 683:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 684:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     /* Set Zone A start offset */
 685:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     WRITE_REG(FLASH->PCROP1ASR, startoffset);
 1274              		.loc 1 685 5
 1275 0030 0E4A     		ldr	r2, .L79
 1276 0032 BB69     		ldr	r3, [r7, #24]
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 35


 1277 0034 5362     		str	r3, [r2, #36]
 686:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 687:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     /* Set Zone A end offset */
 688:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     pcrop1aend &= ~FLASH_PCROP1AER_PCROP1A_END;
 1278              		.loc 1 688 16
 1279 0036 FB69     		ldr	r3, [r7, #28]
 1280 0038 23F4FF73 		bic	r3, r3, #510
 1281 003c 23F00103 		bic	r3, r3, #1
 1282 0040 FB61     		str	r3, [r7, #28]
 689:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     pcrop1aend |= endoffset;
 1283              		.loc 1 689 16
 1284 0042 FA69     		ldr	r2, [r7, #28]
 1285 0044 7B69     		ldr	r3, [r7, #20]
 1286 0046 1343     		orrs	r3, r3, r2
 1287 0048 FB61     		str	r3, [r7, #28]
 1288              	.L77:
 690:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   }
 691:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 692:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Set RDP erase protection if needed. This bit is only set & will be reset by mass erase */
 693:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   if ((PCROPConfig & OB_PCROP_RDP_ERASE) != 0U)
 1289              		.loc 1 693 42
 1290 004a FB68     		ldr	r3, [r7, #12]
 1291              		.loc 1 693 6
 1292 004c 002B     		cmp	r3, #0
 1293 004e 03DA     		bge	.L78
 694:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   {
 695:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     pcrop1aend |= FLASH_PCROP1AER_PCROP_RDP;
 1294              		.loc 1 695 16
 1295 0050 FB69     		ldr	r3, [r7, #28]
 1296 0052 43F00043 		orr	r3, r3, #-2147483648
 1297 0056 FB61     		str	r3, [r7, #28]
 1298              	.L78:
 696:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   }
 697:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 698:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* set 1A End register */
 699:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   WRITE_REG(FLASH->PCROP1AER, pcrop1aend);
 1299              		.loc 1 699 3
 1300 0058 044A     		ldr	r2, .L79
 1301 005a FB69     		ldr	r3, [r7, #28]
 1302 005c 9362     		str	r3, [r2, #40]
 700:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** }
 1303              		.loc 1 700 1
 1304 005e 00BF     		nop
 1305 0060 2437     		adds	r7, r7, #36
 1306              	.LCFI73:
 1307              		.cfi_def_cfa_offset 4
 1308 0062 BD46     		mov	sp, r7
 1309              	.LCFI74:
 1310              		.cfi_def_cfa_register 13
 1311              		@ sp needed
 1312 0064 5DF8047B 		ldr	r7, [sp], #4
 1313              	.LCFI75:
 1314              		.cfi_restore 7
 1315              		.cfi_def_cfa_offset 0
 1316 0068 7047     		bx	lr
 1317              	.L80:
 1318 006a 00BF     		.align	2
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 36


 1319              	.L79:
 1320 006c 00400058 		.word	1476411392
 1321              		.cfi_endproc
 1322              	.LFE964:
 1324              		.section	.text.FLASH_OB_PCROP1BConfig,"ax",%progbits
 1325              		.align	1
 1326              		.syntax unified
 1327              		.thumb
 1328              		.thumb_func
 1330              	FLASH_OB_PCROP1BConfig:
 1331              	.LFB965:
 701:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 702:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /**
 703:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @brief  Configure the Zone 1B Proprietary code readout protection of the desired addresses.
 704:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @note   To configure the PCROP options, the option lock bit OPTLOCK must be
 705:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         cleared with the call of the @ref HAL_FLASH_OB_Unlock() function.
 706:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @note   To validate the PCROP options, the option bytes must be reloaded
 707:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         through the call of the @ref HAL_FLASH_OB_Launch() function.
 708:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @param  PCROP1BStartAddr Specifies the Zone 1BStart address of the Proprietary code readout pro
 709:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         This parameter can be an address between begin and end of the flash
 710:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @param  PCROP1BEndAddr Specifies the Zone 1B end address of the Proprietary code readout protec
 711:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         This parameter can be an address between PCROP1BStartAddr and end of the flash
 712:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @retval None
 713:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   */
 714:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** static void FLASH_OB_PCROP1BConfig(uint32_t PCROP1BStartAddr, uint32_t PCROP1BEndAddr)
 715:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** {
 1332              		.loc 1 715 1
 1333              		.cfi_startproc
 1334              		@ args = 0, pretend = 0, frame = 16
 1335              		@ frame_needed = 1, uses_anonymous_args = 0
 1336              		@ link register save eliminated.
 1337 0000 80B4     		push	{r7}
 1338              	.LCFI76:
 1339              		.cfi_def_cfa_offset 4
 1340              		.cfi_offset 7, -4
 1341 0002 85B0     		sub	sp, sp, #20
 1342              	.LCFI77:
 1343              		.cfi_def_cfa_offset 24
 1344 0004 00AF     		add	r7, sp, #0
 1345              	.LCFI78:
 1346              		.cfi_def_cfa_register 7
 1347 0006 7860     		str	r0, [r7, #4]
 1348 0008 3960     		str	r1, [r7]
 716:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   uint32_t startoffset;
 717:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   uint32_t endoffset;
 718:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 719:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Check the parameters */
 720:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   assert_param(IS_FLASH_MAIN_MEM_ADDRESS(PCROP1BStartAddr));
 721:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   assert_param(IS_FLASH_MAIN_MEM_ADDRESS(PCROP1BEndAddr));
 722:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 723:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Compute offset depending on pcrop granularity */
 724:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   startoffset = ((PCROP1BStartAddr - FLASH_BASE) >> FLASH_PCROP_GRANULARITY_OFFSET); /* 2K pages */
 1349              		.loc 1 724 36
 1350 000a 7B68     		ldr	r3, [r7, #4]
 1351 000c 03F17843 		add	r3, r3, #-134217728
 1352              		.loc 1 724 15
 1353 0010 DB0A     		lsrs	r3, r3, #11
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 37


 1354 0012 FB60     		str	r3, [r7, #12]
 725:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   endoffset = ((PCROP1BEndAddr - FLASH_BASE) >> FLASH_PCROP_GRANULARITY_OFFSET); /* 2K pages */
 1355              		.loc 1 725 32
 1356 0014 3B68     		ldr	r3, [r7]
 1357 0016 03F17843 		add	r3, r3, #-134217728
 1358              		.loc 1 725 13
 1359 001a DB0A     		lsrs	r3, r3, #11
 1360 001c BB60     		str	r3, [r7, #8]
 726:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 727:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Configure the Proprietary code readout protection start address */
 728:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   WRITE_REG(FLASH->PCROP1BSR, startoffset);
 1361              		.loc 1 728 3
 1362 001e 064A     		ldr	r2, .L82
 1363 0020 FB68     		ldr	r3, [r7, #12]
 1364 0022 5363     		str	r3, [r2, #52]
 729:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 730:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Configure the Proprietary code readout protection end address */
 731:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   WRITE_REG(FLASH->PCROP1BER, endoffset);
 1365              		.loc 1 731 3
 1366 0024 044A     		ldr	r2, .L82
 1367 0026 BB68     		ldr	r3, [r7, #8]
 1368 0028 9363     		str	r3, [r2, #56]
 732:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** }
 1369              		.loc 1 732 1
 1370 002a 00BF     		nop
 1371 002c 1437     		adds	r7, r7, #20
 1372              	.LCFI79:
 1373              		.cfi_def_cfa_offset 4
 1374 002e BD46     		mov	sp, r7
 1375              	.LCFI80:
 1376              		.cfi_def_cfa_register 13
 1377              		@ sp needed
 1378 0030 5DF8047B 		ldr	r7, [sp], #4
 1379              	.LCFI81:
 1380              		.cfi_restore 7
 1381              		.cfi_def_cfa_offset 0
 1382 0034 7047     		bx	lr
 1383              	.L83:
 1384 0036 00BF     		.align	2
 1385              	.L82:
 1386 0038 00400058 		.word	1476411392
 1387              		.cfi_endproc
 1388              	.LFE965:
 1390              		.section	.text.FLASH_OB_IPCCBufferAddrConfig,"ax",%progbits
 1391              		.align	1
 1392              		.syntax unified
 1393              		.thumb
 1394              		.thumb_func
 1396              	FLASH_OB_IPCCBufferAddrConfig:
 1397              	.LFB966:
 733:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 734:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /**
 735:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @brief  Program the FLASH IPCC data buffer address.
 736:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @note   To configure the extra user option bytes, the option lock bit OPTLOCK must
 737:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         be cleared with the call of the @ref HAL_FLASH_OB_Unlock() function.
 738:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @note   To validate the extra user option bytes, the option bytes must be reloaded
 739:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         through the call of the @ref HAL_FLASH_OB_Launch() function.
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 38


 740:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @param  IPCCDataBufAddr IPCC data buffer start address area in SRAM2
 741:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         This parameter must be the double-word aligned
 742:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @retval None
 743:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   */
 744:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** static void FLASH_OB_IPCCBufferAddrConfig(uint32_t IPCCDataBufAddr)
 745:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** {
 1398              		.loc 1 745 1
 1399              		.cfi_startproc
 1400              		@ args = 0, pretend = 0, frame = 8
 1401              		@ frame_needed = 1, uses_anonymous_args = 0
 1402              		@ link register save eliminated.
 1403 0000 80B4     		push	{r7}
 1404              	.LCFI82:
 1405              		.cfi_def_cfa_offset 4
 1406              		.cfi_offset 7, -4
 1407 0002 83B0     		sub	sp, sp, #12
 1408              	.LCFI83:
 1409              		.cfi_def_cfa_offset 16
 1410 0004 00AF     		add	r7, sp, #0
 1411              	.LCFI84:
 1412              		.cfi_def_cfa_register 7
 1413 0006 7860     		str	r0, [r7, #4]
 746:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   assert_param(IS_OB_IPCC_BUF_ADDR(IPCCDataBufAddr));
 747:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 748:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Configure the option bytes register */
 749:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   WRITE_REG(FLASH->IPCCBR, (uint32_t)((IPCCDataBufAddr - SRAM2A_BASE) >> 4));
 1414              		.loc 1 749 3
 1415 0008 7B68     		ldr	r3, [r7, #4]
 1416 000a 03F15F43 		add	r3, r3, #-553648128
 1417 000e 03F57D03 		add	r3, r3, #16580608
 1418 0012 044A     		ldr	r2, .L85
 1419 0014 1B09     		lsrs	r3, r3, #4
 1420 0016 D363     		str	r3, [r2, #60]
 750:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** }
 1421              		.loc 1 750 1
 1422 0018 00BF     		nop
 1423 001a 0C37     		adds	r7, r7, #12
 1424              	.LCFI85:
 1425              		.cfi_def_cfa_offset 4
 1426 001c BD46     		mov	sp, r7
 1427              	.LCFI86:
 1428              		.cfi_def_cfa_register 13
 1429              		@ sp needed
 1430 001e 5DF8047B 		ldr	r7, [sp], #4
 1431              	.LCFI87:
 1432              		.cfi_restore 7
 1433              		.cfi_def_cfa_offset 0
 1434 0022 7047     		bx	lr
 1435              	.L86:
 1436              		.align	2
 1437              	.L85:
 1438 0024 00400058 		.word	1476411392
 1439              		.cfi_endproc
 1440              	.LFE966:
 1442              		.section	.text.FLASH_OB_SecureConfig,"ax",%progbits
 1443              		.align	1
 1444              		.syntax unified
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 39


 1445              		.thumb
 1446              		.thumb_func
 1448              	FLASH_OB_SecureConfig:
 1449              	.LFB967:
 751:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 752:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /**
 753:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @brief  Configure the secure start address of the different memories (FLASH and SRAM2),
 754:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         the secure mode and the CPU2 Secure Boot reset vector
 755:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @note   To configure the PCROP options, the option lock bit OPTLOCK must be
 756:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         cleared with the call of the @ref HAL_FLASH_OB_Unlock() function.
 757:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @param  pOBParam Pointer to an @ref FLASH_OBProgramInitTypeDef structure that
 758:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         contains the configuration information for the programming
 759:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @retval void
 760:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   */
 761:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** static void FLASH_OB_SecureConfig(FLASH_OBProgramInitTypeDef *pOBParam)
 762:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** {
 1450              		.loc 1 762 1
 1451              		.cfi_startproc
 1452              		@ args = 0, pretend = 0, frame = 16
 1453              		@ frame_needed = 1, uses_anonymous_args = 0
 1454              		@ link register save eliminated.
 1455 0000 80B4     		push	{r7}
 1456              	.LCFI88:
 1457              		.cfi_def_cfa_offset 4
 1458              		.cfi_offset 7, -4
 1459 0002 85B0     		sub	sp, sp, #20
 1460              	.LCFI89:
 1461              		.cfi_def_cfa_offset 24
 1462 0004 00AF     		add	r7, sp, #0
 1463              	.LCFI90:
 1464              		.cfi_def_cfa_register 7
 1465 0006 7860     		str	r0, [r7, #4]
 763:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   uint32_t sfr_reg_val = READ_REG(FLASH->SFR);
 1466              		.loc 1 763 26
 1467 0008 3C4B     		ldr	r3, .L93
 1468              		.loc 1 763 12
 1469 000a D3F88030 		ldr	r3, [r3, #128]
 1470 000e FB60     		str	r3, [r7, #12]
 764:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   uint32_t srrvr_reg_val = READ_REG(FLASH->SRRVR);
 1471              		.loc 1 764 28
 1472 0010 3A4B     		ldr	r3, .L93
 1473              		.loc 1 764 12
 1474 0012 D3F88430 		ldr	r3, [r3, #132]
 1475 0016 BB60     		str	r3, [r7, #8]
 765:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 766:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   if ((pOBParam->OptionType & OPTIONBYTE_SECURE_MODE) != 0U)
 1476              		.loc 1 766 16
 1477 0018 7B68     		ldr	r3, [r7, #4]
 1478 001a 1B68     		ldr	r3, [r3]
 1479              		.loc 1 766 29
 1480 001c 03F40073 		and	r3, r3, #512
 1481              		.loc 1 766 6
 1482 0020 002B     		cmp	r3, #0
 1483 0022 3BD0     		beq	.L88
 767:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   {
 768:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     assert_param(IS_OB_SFSA_START_ADDR(pOBParam->SecureFlashStartAddr));
 769:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     assert_param(IS_OB_SBRSA_START_ADDR(pOBParam->SecureRAM2aStartAddr));
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 40


 770:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     assert_param(IS_OB_SNBRSA_START_ADDR(pOBParam->SecureRAM2bStartAddr));
 771:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     assert_param(IS_OB_SECURE_MODE(pOBParam->SecureMode));
 772:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 773:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     /* Configure SFR register content with start PAGE index to secure */
 774:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     MODIFY_REG(sfr_reg_val, FLASH_SFR_SFSA, (((pOBParam->SecureFlashStartAddr - FLASH_BASE) / FLASH
 1484              		.loc 1 774 5
 1485 0024 FB68     		ldr	r3, [r7, #12]
 1486 0026 23F0FF02 		bic	r2, r3, #255
 1487 002a 7B68     		ldr	r3, [r7, #4]
 1488 002c 1B6B     		ldr	r3, [r3, #48]
 1489 002e 03F17843 		add	r3, r3, #-134217728
 1490 0032 1B0B     		lsrs	r3, r3, #12
 1491 0034 1343     		orrs	r3, r3, r2
 1492 0036 FB60     		str	r3, [r7, #12]
 775:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 776:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     /* Configure SRRVR register */
 777:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** #if defined(FLASH_SRRVR_SBRSA_A)
 778:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     MODIFY_REG(srrvr_reg_val, (FLASH_SRRVR_SBRSA_A | FLASH_SRRVR_SBRSA_B), \
 779:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****                (((((pOBParam->SecureRAM2aStartAddr - SRAM2A_BASE) >> SRAM_SECURE_PAGE_GRANULARITY_O
 780:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****                 ((((pOBParam->SecureRAM2bStartAddr - SRAM2B_BASE) >> SRAM_SECURE_PAGE_GRANULARITY_O
 781:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** #else
 782:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     MODIFY_REG(srrvr_reg_val, (FLASH_SRRVR_SBRSA | FLASH_SRRVR_SNBRSA), \
 1493              		.loc 1 782 5
 1494 0038 BB68     		ldr	r3, [r7, #8]
 1495 003a 23F07953 		bic	r3, r3, #1044381696
 1496 003e 23F47013 		bic	r3, r3, #3932160
 1497 0042 7A68     		ldr	r2, [r7, #4]
 1498 0044 526B     		ldr	r2, [r2, #52]
 1499 0046 02F15F42 		add	r2, r2, #-553648128
 1500 004a 02F57D02 		add	r2, r2, #16580608
 1501 004e 920A     		lsrs	r2, r2, #10
 1502 0050 9104     		lsls	r1, r2, #18
 1503 0052 7A68     		ldr	r2, [r7, #4]
 1504 0054 926B     		ldr	r2, [r2, #56]
 1505 0056 02F16042 		add	r2, r2, #-536870912
 1506 005a A2F56032 		sub	r2, r2, #229376
 1507 005e 920A     		lsrs	r2, r2, #10
 1508 0060 5206     		lsls	r2, r2, #25
 1509 0062 0A43     		orrs	r2, r2, r1
 1510 0064 1343     		orrs	r3, r3, r2
 1511 0066 BB60     		str	r3, [r7, #8]
 783:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****                (((((pOBParam->SecureRAM2aStartAddr - SRAM2A_BASE) >> SRAM_SECURE_PAGE_GRANULARITY_O
 784:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****                 ((((pOBParam->SecureRAM2bStartAddr - SRAM2B_BASE) >> SRAM_SECURE_PAGE_GRANULARITY_O
 785:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** #endif /* FLASH_SRRVR_SBRSA_A */
 786:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 787:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     /* If Full System Secure mode is requested, clear all the corresponding bit */
 788:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     /* Else set the corresponding bit */
 789:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     if (pOBParam->SecureMode == SYSTEM_IN_SECURE_MODE)
 1512              		.loc 1 789 17
 1513 0068 7B68     		ldr	r3, [r7, #4]
 1514 006a DB6B     		ldr	r3, [r3, #60]
 1515              		.loc 1 789 8
 1516 006c B3F5807F 		cmp	r3, #256
 1517 0070 08D1     		bne	.L89
 790:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     {
 791:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****       CLEAR_BIT(sfr_reg_val, FLASH_SFR_FSD);
 1518              		.loc 1 791 7
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 41


 1519 0072 FB68     		ldr	r3, [r7, #12]
 1520 0074 23F48073 		bic	r3, r3, #256
 1521 0078 FB60     		str	r3, [r7, #12]
 792:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** #if defined(FLASH_SRRVR_BRSD_A)
 793:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****       CLEAR_BIT(srrvr_reg_val, (FLASH_SRRVR_BRSD_A | FLASH_SRRVR_BRSD_B));
 794:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** #else
 795:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****       CLEAR_BIT(srrvr_reg_val, (FLASH_SRRVR_BRSD | FLASH_SRRVR_NBRSD));
 1522              		.loc 1 795 7
 1523 007a BB68     		ldr	r3, [r7, #8]
 1524 007c 23F08143 		bic	r3, r3, #1082130432
 1525 0080 BB60     		str	r3, [r7, #8]
 1526 0082 07E0     		b	.L90
 1527              	.L89:
 796:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** #endif /* FLASH_SRRVR_BRSD_A */
 797:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     }
 798:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     else
 799:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     {
 800:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****       SET_BIT(sfr_reg_val, FLASH_SFR_FSD);
 1528              		.loc 1 800 7
 1529 0084 FB68     		ldr	r3, [r7, #12]
 1530 0086 43F48073 		orr	r3, r3, #256
 1531 008a FB60     		str	r3, [r7, #12]
 801:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** #if defined(FLASH_SRRVR_BRSD_A)
 802:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****       SET_BIT(srrvr_reg_val, (FLASH_SRRVR_BRSD_A | FLASH_SRRVR_BRSD_B));
 803:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** #else
 804:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****       SET_BIT(srrvr_reg_val, (FLASH_SRRVR_BRSD | FLASH_SRRVR_NBRSD));
 1532              		.loc 1 804 7
 1533 008c BB68     		ldr	r3, [r7, #8]
 1534 008e 43F08143 		orr	r3, r3, #1082130432
 1535 0092 BB60     		str	r3, [r7, #8]
 1536              	.L90:
 805:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** #endif /* FLASH_SRRVR_BRSD_A */
 806:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     }
 807:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 808:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     /* Update Flash registers */
 809:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     WRITE_REG(FLASH->SFR, sfr_reg_val);
 1537              		.loc 1 809 5
 1538 0094 194A     		ldr	r2, .L93
 1539 0096 FB68     		ldr	r3, [r7, #12]
 1540 0098 C2F88030 		str	r3, [r2, #128]
 1541              	.L88:
 810:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   }
 811:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 812:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Boot vector */
 813:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   if ((pOBParam->OptionType & OPTIONBYTE_C2_BOOT_VECT) != 0U)
 1542              		.loc 1 813 16
 1543 009c 7B68     		ldr	r3, [r7, #4]
 1544 009e 1B68     		ldr	r3, [r3]
 1545              		.loc 1 813 29
 1546 00a0 03F48073 		and	r3, r3, #256
 1547              		.loc 1 813 6
 1548 00a4 002B     		cmp	r3, #0
 1549 00a6 1FD0     		beq	.L91
 814:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   {
 815:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     /* Check the parameters */
 816:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     assert_param(IS_OB_BOOT_VECTOR_ADDR(pOBParam->C2SecureBootVectAddr));
 817:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     assert_param(IS_OB_BOOT_REGION(pOBParam->C2BootRegion));
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 42


 818:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 819:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     /* Set the boot vector */
 820:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     if (pOBParam->C2BootRegion == OB_C2_BOOT_FROM_FLASH)
 1550              		.loc 1 820 17
 1551 00a8 7B68     		ldr	r3, [r7, #4]
 1552 00aa 1B6C     		ldr	r3, [r3, #64]
 1553              		.loc 1 820 8
 1554 00ac B3F1004F 		cmp	r3, #-2147483648
 1555 00b0 0DD1     		bne	.L92
 821:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     {
 822:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****       MODIFY_REG(srrvr_reg_val, (FLASH_SRRVR_SBRV | FLASH_SRRVR_C2OPT),
 1556              		.loc 1 822 7
 1557 00b2 BA68     		ldr	r2, [r7, #8]
 1558 00b4 124B     		ldr	r3, .L93+4
 1559 00b6 1340     		ands	r3, r3, r2
 1560 00b8 7A68     		ldr	r2, [r7, #4]
 1561 00ba 526C     		ldr	r2, [r2, #68]
 1562 00bc 02F17842 		add	r2, r2, #-134217728
 1563 00c0 9108     		lsrs	r1, r2, #2
 1564 00c2 7A68     		ldr	r2, [r7, #4]
 1565 00c4 126C     		ldr	r2, [r2, #64]
 1566 00c6 0A43     		orrs	r2, r2, r1
 1567 00c8 1343     		orrs	r3, r3, r2
 1568 00ca BB60     		str	r3, [r7, #8]
 1569 00cc 0CE0     		b	.L91
 1570              	.L92:
 823:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****                  (((pOBParam->C2SecureBootVectAddr - FLASH_BASE) >> 2) | pOBParam->C2BootRegion));
 824:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     }
 825:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     else
 826:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     {
 827:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****       MODIFY_REG(srrvr_reg_val, (FLASH_SRRVR_SBRV | FLASH_SRRVR_C2OPT),
 1571              		.loc 1 827 7
 1572 00ce BA68     		ldr	r2, [r7, #8]
 1573 00d0 0B4B     		ldr	r3, .L93+4
 1574 00d2 1340     		ands	r3, r3, r2
 1575 00d4 7A68     		ldr	r2, [r7, #4]
 1576 00d6 526C     		ldr	r2, [r2, #68]
 1577 00d8 02F16042 		add	r2, r2, #-536870912
 1578 00dc 9108     		lsrs	r1, r2, #2
 1579 00de 7A68     		ldr	r2, [r7, #4]
 1580 00e0 126C     		ldr	r2, [r2, #64]
 1581 00e2 0A43     		orrs	r2, r2, r1
 1582 00e4 1343     		orrs	r3, r3, r2
 1583 00e6 BB60     		str	r3, [r7, #8]
 1584              	.L91:
 828:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****                  (((pOBParam->C2SecureBootVectAddr - SRAM1_BASE) >> 2) | pOBParam->C2BootRegion));
 829:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     }
 830:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   }
 831:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 832:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Update Flash registers */
 833:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   WRITE_REG(FLASH->SRRVR, srrvr_reg_val);
 1585              		.loc 1 833 3
 1586 00e8 044A     		ldr	r2, .L93
 1587 00ea BB68     		ldr	r3, [r7, #8]
 1588 00ec C2F88430 		str	r3, [r2, #132]
 834:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** }
 1589              		.loc 1 834 1
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 43


 1590 00f0 00BF     		nop
 1591 00f2 1437     		adds	r7, r7, #20
 1592              	.LCFI91:
 1593              		.cfi_def_cfa_offset 4
 1594 00f4 BD46     		mov	sp, r7
 1595              	.LCFI92:
 1596              		.cfi_def_cfa_register 13
 1597              		@ sp needed
 1598 00f6 5DF8047B 		ldr	r7, [sp], #4
 1599              	.LCFI93:
 1600              		.cfi_restore 7
 1601              		.cfi_def_cfa_offset 0
 1602 00fa 7047     		bx	lr
 1603              	.L94:
 1604              		.align	2
 1605              	.L93:
 1606 00fc 00400058 		.word	1476411392
 1607 0100 0000FC7F 		.word	2147221504
 1608              		.cfi_endproc
 1609              	.LFE967:
 1611              		.section	.text.FLASH_OB_GetWRP,"ax",%progbits
 1612              		.align	1
 1613              		.syntax unified
 1614              		.thumb
 1615              		.thumb_func
 1617              	FLASH_OB_GetWRP:
 1618              	.LFB968:
 835:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 836:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /**
 837:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @brief  Return the FLASH Write Protection Option Bytes value.
 838:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @param[in]   WRPArea Specifies the area to be returned.
 839:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *              This parameter can be one of the following values:
 840:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *              @arg @ref OB_WRPAREA_BANK1_AREAA Flash Bank 1 Area A
 841:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *              @arg @ref OB_WRPAREA_BANK1_AREAB Flash Bank 1 Area B
 842:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @param[out]  WRPStartOffset Specifies the address where to copied the start page
 843:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *                             of the write protected area
 844:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @param[out]  WRDPEndOffset Specifies the address where to copied the end page of
 845:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *                            the write protected area
 846:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @retval None
 847:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   */
 848:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** static void FLASH_OB_GetWRP(uint32_t WRPArea, uint32_t *WRPStartOffset, uint32_t *WRDPEndOffset)
 849:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** {
 1619              		.loc 1 849 1
 1620              		.cfi_startproc
 1621              		@ args = 0, pretend = 0, frame = 16
 1622              		@ frame_needed = 1, uses_anonymous_args = 0
 1623              		@ link register save eliminated.
 1624 0000 80B4     		push	{r7}
 1625              	.LCFI94:
 1626              		.cfi_def_cfa_offset 4
 1627              		.cfi_offset 7, -4
 1628 0002 85B0     		sub	sp, sp, #20
 1629              	.LCFI95:
 1630              		.cfi_def_cfa_offset 24
 1631 0004 00AF     		add	r7, sp, #0
 1632              	.LCFI96:
 1633              		.cfi_def_cfa_register 7
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 44


 1634 0006 F860     		str	r0, [r7, #12]
 1635 0008 B960     		str	r1, [r7, #8]
 1636 000a 7A60     		str	r2, [r7, #4]
 850:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Check the parameters */
 851:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   assert_param(IS_OB_WRPAREA(WRPArea));
 852:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 853:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Get the configuration of the write protected area */
 854:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   if (WRPArea == OB_WRPAREA_BANK1_AREAA)
 1637              		.loc 1 854 6
 1638 000c FB68     		ldr	r3, [r7, #12]
 1639 000e 002B     		cmp	r3, #0
 1640 0010 0BD1     		bne	.L96
 855:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   {
 856:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     *WRPStartOffset = READ_BIT(FLASH->WRP1AR, FLASH_WRP1AR_WRP1A_STRT);
 1641              		.loc 1 856 23
 1642 0012 0E4B     		ldr	r3, .L99
 1643 0014 DB6A     		ldr	r3, [r3, #44]
 1644 0016 DAB2     		uxtb	r2, r3
 1645              		.loc 1 856 21
 1646 0018 BB68     		ldr	r3, [r7, #8]
 1647 001a 1A60     		str	r2, [r3]
 857:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     *WRDPEndOffset = (READ_BIT(FLASH->WRP1AR, FLASH_WRP1AR_WRP1A_END) >> FLASH_WRP1AR_WRP1A_END_Pos
 1648              		.loc 1 857 23
 1649 001c 0B4B     		ldr	r3, .L99
 1650 001e DB6A     		ldr	r3, [r3, #44]
 1651              		.loc 1 857 71
 1652 0020 1B0C     		lsrs	r3, r3, #16
 1653 0022 DAB2     		uxtb	r2, r3
 1654              		.loc 1 857 20
 1655 0024 7B68     		ldr	r3, [r7, #4]
 1656 0026 1A60     		str	r2, [r3]
 858:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   }
 859:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   else /* OB_WRPAREA_BANK1_AREAB */
 860:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   {
 861:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     *WRPStartOffset = READ_BIT(FLASH->WRP1BR, FLASH_WRP1BR_WRP1B_STRT);
 862:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     *WRDPEndOffset = (READ_BIT(FLASH->WRP1BR, FLASH_WRP1BR_WRP1B_END) >> FLASH_WRP1BR_WRP1B_END_Pos
 863:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   }
 864:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** }
 1657              		.loc 1 864 1
 1658 0028 0AE0     		b	.L98
 1659              	.L96:
 861:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     *WRDPEndOffset = (READ_BIT(FLASH->WRP1BR, FLASH_WRP1BR_WRP1B_END) >> FLASH_WRP1BR_WRP1B_END_Pos
 1660              		.loc 1 861 23
 1661 002a 084B     		ldr	r3, .L99
 1662 002c 1B6B     		ldr	r3, [r3, #48]
 1663 002e DAB2     		uxtb	r2, r3
 861:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     *WRDPEndOffset = (READ_BIT(FLASH->WRP1BR, FLASH_WRP1BR_WRP1B_END) >> FLASH_WRP1BR_WRP1B_END_Pos
 1664              		.loc 1 861 21
 1665 0030 BB68     		ldr	r3, [r7, #8]
 1666 0032 1A60     		str	r2, [r3]
 862:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   }
 1667              		.loc 1 862 23
 1668 0034 054B     		ldr	r3, .L99
 1669 0036 1B6B     		ldr	r3, [r3, #48]
 862:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   }
 1670              		.loc 1 862 71
 1671 0038 1B0C     		lsrs	r3, r3, #16
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 45


 1672 003a DAB2     		uxtb	r2, r3
 862:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   }
 1673              		.loc 1 862 20
 1674 003c 7B68     		ldr	r3, [r7, #4]
 1675 003e 1A60     		str	r2, [r3]
 1676              	.L98:
 1677              		.loc 1 864 1
 1678 0040 00BF     		nop
 1679 0042 1437     		adds	r7, r7, #20
 1680              	.LCFI97:
 1681              		.cfi_def_cfa_offset 4
 1682 0044 BD46     		mov	sp, r7
 1683              	.LCFI98:
 1684              		.cfi_def_cfa_register 13
 1685              		@ sp needed
 1686 0046 5DF8047B 		ldr	r7, [sp], #4
 1687              	.LCFI99:
 1688              		.cfi_restore 7
 1689              		.cfi_def_cfa_offset 0
 1690 004a 7047     		bx	lr
 1691              	.L100:
 1692              		.align	2
 1693              	.L99:
 1694 004c 00400058 		.word	1476411392
 1695              		.cfi_endproc
 1696              	.LFE968:
 1698              		.section	.text.FLASH_OB_GetRDP,"ax",%progbits
 1699              		.align	1
 1700              		.syntax unified
 1701              		.thumb
 1702              		.thumb_func
 1704              	FLASH_OB_GetRDP:
 1705              	.LFB969:
 865:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 866:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /**
 867:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @brief  Return the FLASH Read Protection level.
 868:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @retval FLASH ReadOut Protection Status:
 869:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         This return value can be one of the following values:
 870:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *            @arg @ref OB_RDP_LEVEL_0 No protection
 871:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *            @arg @ref OB_RDP_LEVEL_1 Read protection of the memory
 872:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *            @arg @ref OB_RDP_LEVEL_2 Full chip protection
 873:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   */
 874:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** static uint32_t FLASH_OB_GetRDP(void)
 875:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** {
 1706              		.loc 1 875 1
 1707              		.cfi_startproc
 1708              		@ args = 0, pretend = 0, frame = 8
 1709              		@ frame_needed = 1, uses_anonymous_args = 0
 1710              		@ link register save eliminated.
 1711 0000 80B4     		push	{r7}
 1712              	.LCFI100:
 1713              		.cfi_def_cfa_offset 4
 1714              		.cfi_offset 7, -4
 1715 0002 83B0     		sub	sp, sp, #12
 1716              	.LCFI101:
 1717              		.cfi_def_cfa_offset 16
 1718 0004 00AF     		add	r7, sp, #0
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 46


 1719              	.LCFI102:
 1720              		.cfi_def_cfa_register 7
 876:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   uint32_t rdplvl = READ_BIT(FLASH->OPTR, FLASH_OPTR_RDP);
 1721              		.loc 1 876 21
 1722 0006 094B     		ldr	r3, .L104
 1723 0008 1B6A     		ldr	r3, [r3, #32]
 1724              		.loc 1 876 12
 1725 000a DBB2     		uxtb	r3, r3
 1726 000c 7B60     		str	r3, [r7, #4]
 877:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 878:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   if ((rdplvl != OB_RDP_LEVEL_0) && (rdplvl != OB_RDP_LEVEL_2))
 1727              		.loc 1 878 6
 1728 000e 7B68     		ldr	r3, [r7, #4]
 1729 0010 AA2B     		cmp	r3, #170
 1730 0012 04D0     		beq	.L102
 1731              		.loc 1 878 34 discriminator 1
 1732 0014 7B68     		ldr	r3, [r7, #4]
 1733 0016 CC2B     		cmp	r3, #204
 1734 0018 01D0     		beq	.L102
 879:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   {
 880:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     return (OB_RDP_LEVEL_1);
 1735              		.loc 1 880 12
 1736 001a BB23     		movs	r3, #187
 1737 001c 00E0     		b	.L103
 1738              	.L102:
 881:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   }
 882:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   else
 883:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   {
 884:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     return rdplvl;
 1739              		.loc 1 884 12
 1740 001e 7B68     		ldr	r3, [r7, #4]
 1741              	.L103:
 885:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   }
 886:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** }
 1742              		.loc 1 886 1
 1743 0020 1846     		mov	r0, r3
 1744 0022 0C37     		adds	r7, r7, #12
 1745              	.LCFI103:
 1746              		.cfi_def_cfa_offset 4
 1747 0024 BD46     		mov	sp, r7
 1748              	.LCFI104:
 1749              		.cfi_def_cfa_register 13
 1750              		@ sp needed
 1751 0026 5DF8047B 		ldr	r7, [sp], #4
 1752              	.LCFI105:
 1753              		.cfi_restore 7
 1754              		.cfi_def_cfa_offset 0
 1755 002a 7047     		bx	lr
 1756              	.L105:
 1757              		.align	2
 1758              	.L104:
 1759 002c 00400058 		.word	1476411392
 1760              		.cfi_endproc
 1761              	.LFE969:
 1763              		.section	.text.FLASH_OB_GetUser,"ax",%progbits
 1764              		.align	1
 1765              		.syntax unified
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 47


 1766              		.thumb
 1767              		.thumb_func
 1769              	FLASH_OB_GetUser:
 1770              	.LFB970:
 887:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 888:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /**
 889:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @brief  Return the FLASH User Option Byte value.
 890:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @retval This return value can be a combination of all the following values:
 891:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref OB_BOR_LEVEL_0 or @ref OB_BOR_LEVEL_1 or ... or @ref OB_BOR_LEVEL_4
 892:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref OB_STOP_RST or @ref OB_STOP_RST
 893:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref OB_STANDBY_RST or @ref OB_STANDBY_NORST
 894:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref OB_SHUTDOWN_RST or @ref OB_SHUTDOWN_NORST
 895:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref OB_IRH_ENABLE or @ref OB_IRH_DISABLE (*)
 896:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref OB_IWDG_SW or @ref OB_IWDG_HW
 897:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref OB_IWDG_STOP_FREEZE or @ref OB_IWDG_STOP_RUN
 898:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref OB_IWDG_STDBY_FREEZE or @ref OB_IWDG_STDBY_RUN
 899:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref OB_WWDG_SW or @ref OB_WWDG_HW
 900:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref OB_BOOT1_SRAM or @ref OB_BOOT1_SYSTEM
 901:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref OB_SRAM2_PARITY_ENABLE or @ref OB_SRAM2_PARITY_DISABLE
 902:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref OB_SRAM2_RST_ERASE or @ref OB_SRAM2_RST_NOT_ERASE
 903:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref OB_BOOT0_FROM_OB or @ref OB_BOOT0_FROM_PIN
 904:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref OB_BOOT0_RESET or @ref OB_BOOT0_SET
 905:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref OB_RESET_MODE_INPUT_ONLY or @ref OB_RESET_MODE_GPIO or @ref OB_RESET_MODE_INP
 906:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *         @arg @ref OB_AGC_TRIM_0 or @ref OB_AGC_TRIM_1 or ... or @ref OB_AGC_TRIM_7
 907:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   */
 908:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** static uint32_t FLASH_OB_GetUser(void)
 909:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** {
 1771              		.loc 1 909 1
 1772              		.cfi_startproc
 1773              		@ args = 0, pretend = 0, frame = 8
 1774              		@ frame_needed = 1, uses_anonymous_args = 0
 1775              		@ link register save eliminated.
 1776 0000 80B4     		push	{r7}
 1777              	.LCFI106:
 1778              		.cfi_def_cfa_offset 4
 1779              		.cfi_offset 7, -4
 1780 0002 83B0     		sub	sp, sp, #12
 1781              	.LCFI107:
 1782              		.cfi_def_cfa_offset 16
 1783 0004 00AF     		add	r7, sp, #0
 1784              	.LCFI108:
 1785              		.cfi_def_cfa_register 7
 910:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   uint32_t user_config = (READ_REG(FLASH->OPTR) & OB_USER_ALL);
 1786              		.loc 1 910 27
 1787 0006 094B     		ldr	r3, .L108
 1788 0008 1A6A     		ldr	r2, [r3, #32]
 1789              		.loc 1 910 12
 1790 000a 094B     		ldr	r3, .L108+4
 1791 000c 1340     		ands	r3, r3, r2
 1792 000e 7B60     		str	r3, [r7, #4]
 911:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   CLEAR_BIT(user_config, (FLASH_OPTR_RDP | FLASH_OPTR_ESE));
 1793              		.loc 1 911 3
 1794 0010 7B68     		ldr	r3, [r7, #4]
 1795 0012 23F4FF73 		bic	r3, r3, #510
 1796 0016 23F00103 		bic	r3, r3, #1
 1797 001a 7B60     		str	r3, [r7, #4]
 912:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 48


 913:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   return user_config;
 1798              		.loc 1 913 10
 1799 001c 7B68     		ldr	r3, [r7, #4]
 914:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** }
 1800              		.loc 1 914 1
 1801 001e 1846     		mov	r0, r3
 1802 0020 0C37     		adds	r7, r7, #12
 1803              	.LCFI109:
 1804              		.cfi_def_cfa_offset 4
 1805 0022 BD46     		mov	sp, r7
 1806              	.LCFI110:
 1807              		.cfi_def_cfa_register 13
 1808              		@ sp needed
 1809 0024 5DF8047B 		ldr	r7, [sp], #4
 1810              	.LCFI111:
 1811              		.cfi_restore 7
 1812              		.cfi_def_cfa_offset 0
 1813 0028 7047     		bx	lr
 1814              	.L109:
 1815 002a 00BF     		.align	2
 1816              	.L108:
 1817 002c 00400058 		.word	1476411392
 1818 0030 007E8FEF 		.word	-275808768
 1819              		.cfi_endproc
 1820              	.LFE970:
 1822              		.section	.text.FLASH_OB_GetPCROP,"ax",%progbits
 1823              		.align	1
 1824              		.syntax unified
 1825              		.thumb
 1826              		.thumb_func
 1828              	FLASH_OB_GetPCROP:
 1829              	.LFB971:
 915:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 916:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /**
 917:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @brief  Return the FLASH Write Protection Option Bytes value.
 918:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @param PCROPConfig [out] Specifies the address where to copied the configuration of PCROP_RDP o
 919:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @param PCROP1AStartAddr [out] Specifies the address where to copied the start address
 920:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *                         of the Zone 1A Proprietary code readout protection
 921:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @param PCROP1AEndAddr [out] Specifies the address where to copied the end address of
 922:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *                       the Zone 1A Proprietary code readout protection
 923:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @param PCROP1BStartAddr [out] Specifies the address where to copied the start address
 924:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *                         of the Zone 1B Proprietary code readout protection
 925:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @param PCROP1BEndAddr [out] Specifies the address where to copied the end address of
 926:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *                       the Zone 1B Proprietary code readout protection
 927:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @retval None
 928:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   */
 929:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** static void FLASH_OB_GetPCROP(uint32_t *PCROPConfig, uint32_t *PCROP1AStartAddr, uint32_t *PCROP1AE
 930:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****                               uint32_t *PCROP1BStartAddr, uint32_t *PCROP1BEndAddr)
 931:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** {
 1830              		.loc 1 931 1
 1831              		.cfi_startproc
 1832              		@ args = 4, pretend = 0, frame = 24
 1833              		@ frame_needed = 1, uses_anonymous_args = 0
 1834              		@ link register save eliminated.
 1835 0000 80B4     		push	{r7}
 1836              	.LCFI112:
 1837              		.cfi_def_cfa_offset 4
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 49


 1838              		.cfi_offset 7, -4
 1839 0002 87B0     		sub	sp, sp, #28
 1840              	.LCFI113:
 1841              		.cfi_def_cfa_offset 32
 1842 0004 00AF     		add	r7, sp, #0
 1843              	.LCFI114:
 1844              		.cfi_def_cfa_register 7
 1845 0006 F860     		str	r0, [r7, #12]
 1846 0008 B960     		str	r1, [r7, #8]
 1847 000a 7A60     		str	r2, [r7, #4]
 1848 000c 3B60     		str	r3, [r7]
 932:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   uint32_t pcrop;
 933:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 934:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   pcrop             = (READ_BIT(FLASH->PCROP1BSR, FLASH_PCROP1BSR_PCROP1B_STRT));
 1849              		.loc 1 934 24
 1850 000e 1C4B     		ldr	r3, .L111
 1851 0010 5B6B     		ldr	r3, [r3, #52]
 1852              		.loc 1 934 21
 1853 0012 C3F30803 		ubfx	r3, r3, #0, #9
 1854 0016 7B61     		str	r3, [r7, #20]
 935:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *PCROP1BStartAddr = ((pcrop << FLASH_PCROP_GRANULARITY_OFFSET) + FLASH_BASE);
 1855              		.loc 1 935 31
 1856 0018 7B69     		ldr	r3, [r7, #20]
 1857 001a DB02     		lsls	r3, r3, #11
 1858              		.loc 1 935 66
 1859 001c 03F10062 		add	r2, r3, #134217728
 1860              		.loc 1 935 21
 1861 0020 3B68     		ldr	r3, [r7]
 1862 0022 1A60     		str	r2, [r3]
 936:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 937:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   pcrop             = (READ_BIT(FLASH->PCROP1BER, FLASH_PCROP1BER_PCROP1B_END));
 1863              		.loc 1 937 24
 1864 0024 164B     		ldr	r3, .L111
 1865 0026 9B6B     		ldr	r3, [r3, #56]
 1866              		.loc 1 937 21
 1867 0028 C3F30803 		ubfx	r3, r3, #0, #9
 1868 002c 7B61     		str	r3, [r7, #20]
 938:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *PCROP1BEndAddr   = ((pcrop << FLASH_PCROP_GRANULARITY_OFFSET) + FLASH_BASE);
 1869              		.loc 1 938 31
 1870 002e 7B69     		ldr	r3, [r7, #20]
 1871 0030 DB02     		lsls	r3, r3, #11
 1872              		.loc 1 938 66
 1873 0032 03F10062 		add	r2, r3, #134217728
 1874              		.loc 1 938 21
 1875 0036 3B6A     		ldr	r3, [r7, #32]
 1876 0038 1A60     		str	r2, [r3]
 939:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 940:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   pcrop             = (READ_BIT(FLASH->PCROP1ASR, FLASH_PCROP1ASR_PCROP1A_STRT));
 1877              		.loc 1 940 24
 1878 003a 114B     		ldr	r3, .L111
 1879 003c 5B6A     		ldr	r3, [r3, #36]
 1880              		.loc 1 940 21
 1881 003e C3F30803 		ubfx	r3, r3, #0, #9
 1882 0042 7B61     		str	r3, [r7, #20]
 941:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *PCROP1AStartAddr = ((pcrop << FLASH_PCROP_GRANULARITY_OFFSET) + FLASH_BASE);
 1883              		.loc 1 941 31
 1884 0044 7B69     		ldr	r3, [r7, #20]
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 50


 1885 0046 DB02     		lsls	r3, r3, #11
 1886              		.loc 1 941 66
 1887 0048 03F10062 		add	r2, r3, #134217728
 1888              		.loc 1 941 21
 1889 004c BB68     		ldr	r3, [r7, #8]
 1890 004e 1A60     		str	r2, [r3]
 942:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 943:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   pcrop             = (READ_BIT(FLASH->PCROP1AER, FLASH_PCROP1AER_PCROP1A_END));
 1891              		.loc 1 943 24
 1892 0050 0B4B     		ldr	r3, .L111
 1893 0052 9B6A     		ldr	r3, [r3, #40]
 1894              		.loc 1 943 21
 1895 0054 C3F30803 		ubfx	r3, r3, #0, #9
 1896 0058 7B61     		str	r3, [r7, #20]
 944:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *PCROP1AEndAddr   = ((pcrop << FLASH_PCROP_GRANULARITY_OFFSET) + FLASH_BASE);
 1897              		.loc 1 944 31
 1898 005a 7B69     		ldr	r3, [r7, #20]
 1899 005c DB02     		lsls	r3, r3, #11
 1900              		.loc 1 944 66
 1901 005e 03F10062 		add	r2, r3, #134217728
 1902              		.loc 1 944 21
 1903 0062 7B68     		ldr	r3, [r7, #4]
 1904 0064 1A60     		str	r2, [r3]
 945:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 946:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *PCROPConfig      = (READ_REG(FLASH->PCROP1AER) & FLASH_PCROP1AER_PCROP_RDP);
 1905              		.loc 1 946 24
 1906 0066 064B     		ldr	r3, .L111
 1907 0068 9B6A     		ldr	r3, [r3, #40]
 1908              		.loc 1 946 51
 1909 006a 03F00042 		and	r2, r3, #-2147483648
 1910              		.loc 1 946 21
 1911 006e FB68     		ldr	r3, [r7, #12]
 1912 0070 1A60     		str	r2, [r3]
 947:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** }
 1913              		.loc 1 947 1
 1914 0072 00BF     		nop
 1915 0074 1C37     		adds	r7, r7, #28
 1916              	.LCFI115:
 1917              		.cfi_def_cfa_offset 4
 1918 0076 BD46     		mov	sp, r7
 1919              	.LCFI116:
 1920              		.cfi_def_cfa_register 13
 1921              		@ sp needed
 1922 0078 5DF8047B 		ldr	r7, [sp], #4
 1923              	.LCFI117:
 1924              		.cfi_restore 7
 1925              		.cfi_def_cfa_offset 0
 1926 007c 7047     		bx	lr
 1927              	.L112:
 1928 007e 00BF     		.align	2
 1929              	.L111:
 1930 0080 00400058 		.word	1476411392
 1931              		.cfi_endproc
 1932              	.LFE971:
 1934              		.section	.text.FLASH_OB_GetIPCCBufferAddr,"ax",%progbits
 1935              		.align	1
 1936              		.syntax unified
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 51


 1937              		.thumb
 1938              		.thumb_func
 1940              	FLASH_OB_GetIPCCBufferAddr:
 1941              	.LFB972:
 948:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 949:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /**
 950:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @brief  Return the FLASH IPCC data buffer base address Option Byte value.
 951:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @retval Returned value is the IPCC data buffer start address area in SRAM2.
 952:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   */
 953:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** static uint32_t FLASH_OB_GetIPCCBufferAddr(void)
 954:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** {
 1942              		.loc 1 954 1
 1943              		.cfi_startproc
 1944              		@ args = 0, pretend = 0, frame = 0
 1945              		@ frame_needed = 1, uses_anonymous_args = 0
 1946              		@ link register save eliminated.
 1947 0000 80B4     		push	{r7}
 1948              	.LCFI118:
 1949              		.cfi_def_cfa_offset 4
 1950              		.cfi_offset 7, -4
 1951 0002 00AF     		add	r7, sp, #0
 1952              	.LCFI119:
 1953              		.cfi_def_cfa_register 7
 955:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   return (uint32_t)((READ_BIT(FLASH->IPCCBR, FLASH_IPCCBR_IPCCDBA) << 4) + SRAM2A_BASE);
 1954              		.loc 1 955 22
 1955 0004 064B     		ldr	r3, .L115
 1956 0006 DB6B     		ldr	r3, [r3, #60]
 1957              		.loc 1 955 68
 1958 0008 1A01     		lsls	r2, r3, #4
 1959 000a 064B     		ldr	r3, .L115+4
 1960 000c 1340     		ands	r3, r3, r2
 1961              		.loc 1 955 10
 1962 000e 03F10053 		add	r3, r3, #536870912
 1963 0012 03F54033 		add	r3, r3, #196608
 956:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** }
 1964              		.loc 1 956 1
 1965 0016 1846     		mov	r0, r3
 1966 0018 BD46     		mov	sp, r7
 1967              	.LCFI120:
 1968              		.cfi_def_cfa_register 13
 1969              		@ sp needed
 1970 001a 5DF8047B 		ldr	r7, [sp], #4
 1971              	.LCFI121:
 1972              		.cfi_restore 7
 1973              		.cfi_def_cfa_offset 0
 1974 001e 7047     		bx	lr
 1975              	.L116:
 1976              		.align	2
 1977              	.L115:
 1978 0020 00400058 		.word	1476411392
 1979 0024 F0FF0300 		.word	262128
 1980              		.cfi_endproc
 1981              	.LFE972:
 1983              		.section	.text.FLASH_OB_GetSecureMemoryConfig,"ax",%progbits
 1984              		.align	1
 1985              		.syntax unified
 1986              		.thumb
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 52


 1987              		.thumb_func
 1989              	FLASH_OB_GetSecureMemoryConfig:
 1990              	.LFB973:
 957:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 958:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /**
 959:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @brief  Return the Secure Flash start address, Secure Backup RAM2a start address, Secure non-Ba
 960:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @param  SecureFlashStartAddr Specifies the address where to copied the Secure Flash start addre
 961:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @param  SecureRAM2aStartAddr Specifies the address where to copied the Secure Backup RAM2a star
 962:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @param  SecureRAM2bStartAddr Specifies the address where to copied the Secure non-Backup RAM2b 
 963:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @param  SecureMode           Specifies the address where to copied the Secure Mode.
 964:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *                              This return value can be one of the following values:
 965:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *                              @arg @ref SYSTEM_IN_SECURE_MODE : Security enabled
 966:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *                              @arg @ref SYSTEM_NOT_IN_SECURE_MODE : Security disabled
 967:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @retval None
 968:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   */
 969:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** static void FLASH_OB_GetSecureMemoryConfig(uint32_t *SecureFlashStartAddr, uint32_t *SecureRAM2aSta
 970:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****                                            uint32_t *SecureRAM2bStartAddr, uint32_t *SecureMode)
 971:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** {
 1991              		.loc 1 971 1
 1992              		.cfi_startproc
 1993              		@ args = 0, pretend = 0, frame = 32
 1994              		@ frame_needed = 1, uses_anonymous_args = 0
 1995              		@ link register save eliminated.
 1996 0000 80B4     		push	{r7}
 1997              	.LCFI122:
 1998              		.cfi_def_cfa_offset 4
 1999              		.cfi_offset 7, -4
 2000 0002 89B0     		sub	sp, sp, #36
 2001              	.LCFI123:
 2002              		.cfi_def_cfa_offset 40
 2003 0004 00AF     		add	r7, sp, #0
 2004              	.LCFI124:
 2005              		.cfi_def_cfa_register 7
 2006 0006 F860     		str	r0, [r7, #12]
 2007 0008 B960     		str	r1, [r7, #8]
 2008 000a 7A60     		str	r2, [r7, #4]
 2009 000c 3B60     		str	r3, [r7]
 972:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   uint32_t sfr_reg_val = READ_REG(FLASH->SFR);
 2010              		.loc 1 972 26
 2011 000e 1B4B     		ldr	r3, .L118
 2012              		.loc 1 972 12
 2013 0010 D3F88030 		ldr	r3, [r3, #128]
 2014 0014 FB61     		str	r3, [r7, #28]
 973:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   uint32_t srrvr_reg_val = READ_REG(FLASH->SRRVR);
 2015              		.loc 1 973 28
 2016 0016 194B     		ldr	r3, .L118
 2017              		.loc 1 973 12
 2018 0018 D3F88430 		ldr	r3, [r3, #132]
 2019 001c BB61     		str	r3, [r7, #24]
 974:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 975:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Get Secure Flash start address */
 976:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   uint32_t user_config = (READ_BIT(sfr_reg_val, FLASH_SFR_SFSA) >> FLASH_SFR_SFSA_Pos);
 2020              		.loc 1 976 12
 2021 001e FB69     		ldr	r3, [r7, #28]
 2022 0020 DBB2     		uxtb	r3, r3
 2023 0022 7B61     		str	r3, [r7, #20]
 977:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 53


 978:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *SecureFlashStartAddr = ((user_config * FLASH_PAGE_SIZE) + FLASH_BASE);
 2024              		.loc 1 978 60
 2025 0024 7B69     		ldr	r3, [r7, #20]
 2026 0026 03F50043 		add	r3, r3, #32768
 2027 002a 1A03     		lsls	r2, r3, #12
 2028              		.loc 1 978 25
 2029 002c FB68     		ldr	r3, [r7, #12]
 2030 002e 1A60     		str	r2, [r3]
 979:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 980:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Get Secure SRAM2a start address */
 981:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** #if defined(FLASH_SRRVR_SBRSA_A)
 982:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   user_config = (READ_BIT(srrvr_reg_val, FLASH_SRRVR_SBRSA_A) >> FLASH_SRRVR_SBRSA_A_Pos);
 983:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** #else
 984:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   user_config = (READ_BIT(srrvr_reg_val, FLASH_SRRVR_SBRSA) >> FLASH_SRRVR_SBRSA_Pos);
 2031              		.loc 1 984 61
 2032 0030 BB69     		ldr	r3, [r7, #24]
 2033 0032 9B0C     		lsrs	r3, r3, #18
 2034              		.loc 1 984 15
 2035 0034 03F01F03 		and	r3, r3, #31
 2036 0038 7B61     		str	r3, [r7, #20]
 985:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** #endif /* FLASH_SRRVR_SBRSA_A */
 986:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 987:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *SecureRAM2aStartAddr = ((user_config << SRAM_SECURE_PAGE_GRANULARITY_OFFSET) + SRAM2A_BASE);
 2037              		.loc 1 987 41
 2038 003a 7B69     		ldr	r3, [r7, #20]
 2039 003c 9B02     		lsls	r3, r3, #10
 2040              		.loc 1 987 81
 2041 003e 03F10053 		add	r3, r3, #536870912
 2042 0042 03F54033 		add	r3, r3, #196608
 2043              		.loc 1 987 25
 2044 0046 BA68     		ldr	r2, [r7, #8]
 2045 0048 1360     		str	r3, [r2]
 988:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 989:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Get Secure SRAM2b start address */
 990:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** #if defined(FLASH_SRRVR_SBRSA_B)
 991:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   user_config = (READ_BIT(srrvr_reg_val, FLASH_SRRVR_SBRSA_B) >> FLASH_SRRVR_SBRSA_B_Pos);
 992:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** #else
 993:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   user_config = (READ_BIT(srrvr_reg_val, FLASH_SRRVR_SNBRSA) >> FLASH_SRRVR_SNBRSA_Pos);
 2046              		.loc 1 993 62
 2047 004a BB69     		ldr	r3, [r7, #24]
 2048 004c 5B0E     		lsrs	r3, r3, #25
 2049              		.loc 1 993 15
 2050 004e 03F01F03 		and	r3, r3, #31
 2051 0052 7B61     		str	r3, [r7, #20]
 994:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** #endif /* FLASH_SRRVR_SBRSA_B */
 995:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
 996:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *SecureRAM2bStartAddr = ((user_config << SRAM_SECURE_PAGE_GRANULARITY_OFFSET) + SRAM2B_BASE);
 2052              		.loc 1 996 41
 2053 0054 7B69     		ldr	r3, [r7, #20]
 2054 0056 9B02     		lsls	r3, r3, #10
 2055              		.loc 1 996 81
 2056 0058 03F10053 		add	r3, r3, #536870912
 2057 005c 03F56033 		add	r3, r3, #229376
 2058              		.loc 1 996 25
 2059 0060 7A68     		ldr	r2, [r7, #4]
 2060 0062 1360     		str	r3, [r2]
 997:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 54


 998:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Get Secure Area mode */
 999:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *SecureMode = (READ_BIT(FLASH->OPTR, FLASH_OPTR_ESE));
 2061              		.loc 1 999 18
 2062 0064 054B     		ldr	r3, .L118
 2063 0066 1B6A     		ldr	r3, [r3, #32]
 2064 0068 03F48072 		and	r2, r3, #256
 2065              		.loc 1 999 15
 2066 006c 3B68     		ldr	r3, [r7]
 2067 006e 1A60     		str	r2, [r3]
1000:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** }
 2068              		.loc 1 1000 1
 2069 0070 00BF     		nop
 2070 0072 2437     		adds	r7, r7, #36
 2071              	.LCFI125:
 2072              		.cfi_def_cfa_offset 4
 2073 0074 BD46     		mov	sp, r7
 2074              	.LCFI126:
 2075              		.cfi_def_cfa_register 13
 2076              		@ sp needed
 2077 0076 5DF8047B 		ldr	r7, [sp], #4
 2078              	.LCFI127:
 2079              		.cfi_restore 7
 2080              		.cfi_def_cfa_offset 0
 2081 007a 7047     		bx	lr
 2082              	.L119:
 2083              		.align	2
 2084              	.L118:
 2085 007c 00400058 		.word	1476411392
 2086              		.cfi_endproc
 2087              	.LFE973:
 2089              		.section	.text.FLASH_OB_GetC2BootResetConfig,"ax",%progbits
 2090              		.align	1
 2091              		.syntax unified
 2092              		.thumb
 2093              		.thumb_func
 2095              	FLASH_OB_GetC2BootResetConfig:
 2096              	.LFB974:
1001:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
1002:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /**
1003:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @brief  Return the CPU2 Secure Boot reset vector address and the CPU2 Secure Boot Region
1004:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @param  C2BootResetVectAddr Specifies the address where to copied the CPU2 Secure Boot reset ve
1005:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @param  C2BootResetRegion   Specifies the Secure Boot reset memory region
1006:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @retval None
1007:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   */
1008:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** static void FLASH_OB_GetC2BootResetConfig(uint32_t *C2BootResetVectAddr, uint32_t *C2BootResetRegio
1009:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** {
 2097              		.loc 1 1009 1
 2098              		.cfi_startproc
 2099              		@ args = 0, pretend = 0, frame = 8
 2100              		@ frame_needed = 1, uses_anonymous_args = 0
 2101              		@ link register save eliminated.
 2102 0000 80B4     		push	{r7}
 2103              	.LCFI128:
 2104              		.cfi_def_cfa_offset 4
 2105              		.cfi_offset 7, -4
 2106 0002 83B0     		sub	sp, sp, #12
 2107              	.LCFI129:
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 55


 2108              		.cfi_def_cfa_offset 16
 2109 0004 00AF     		add	r7, sp, #0
 2110              	.LCFI130:
 2111              		.cfi_def_cfa_register 7
 2112 0006 7860     		str	r0, [r7, #4]
 2113 0008 3960     		str	r1, [r7]
1010:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   *C2BootResetRegion = (READ_BIT(FLASH->SRRVR, FLASH_SRRVR_C2OPT));
 2114              		.loc 1 1010 25
 2115 000a 134B     		ldr	r3, .L124
 2116 000c D3F88430 		ldr	r3, [r3, #132]
 2117 0010 03F00042 		and	r2, r3, #-2147483648
 2118              		.loc 1 1010 22
 2119 0014 3B68     		ldr	r3, [r7]
 2120 0016 1A60     		str	r2, [r3]
1011:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
1012:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   if (*C2BootResetRegion == OB_C2_BOOT_FROM_FLASH)
 2121              		.loc 1 1012 7
 2122 0018 3B68     		ldr	r3, [r7]
 2123 001a 1B68     		ldr	r3, [r3]
 2124              		.loc 1 1012 6
 2125 001c B3F1004F 		cmp	r3, #-2147483648
 2126 0020 0AD1     		bne	.L121
1013:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   {
1014:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     *C2BootResetVectAddr = (uint32_t)((READ_BIT(FLASH->SRRVR, FLASH_SRRVR_SBRV) << 2) + FLASH_BASE)
 2127              		.loc 1 1014 40
 2128 0022 0D4B     		ldr	r3, .L124
 2129 0024 D3F88430 		ldr	r3, [r3, #132]
 2130              		.loc 1 1014 81
 2131 0028 9A00     		lsls	r2, r3, #2
 2132 002a 0C4B     		ldr	r3, .L124+4
 2133 002c 1340     		ands	r3, r3, r2
 2134              		.loc 1 1014 28
 2135 002e 03F10062 		add	r2, r3, #134217728
 2136              		.loc 1 1014 26
 2137 0032 7B68     		ldr	r3, [r7, #4]
 2138 0034 1A60     		str	r2, [r3]
1015:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   }
1016:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   else
1017:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   {
1018:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     *C2BootResetVectAddr = (uint32_t)((READ_BIT(FLASH->SRRVR, FLASH_SRRVR_SBRV) << 2) + SRAM1_BASE)
1019:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   }
1020:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** }
 2139              		.loc 1 1020 1
 2140 0036 09E0     		b	.L123
 2141              	.L121:
1018:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   }
 2142              		.loc 1 1018 40
 2143 0038 074B     		ldr	r3, .L124
 2144 003a D3F88430 		ldr	r3, [r3, #132]
1018:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   }
 2145              		.loc 1 1018 81
 2146 003e 9A00     		lsls	r2, r3, #2
 2147 0040 064B     		ldr	r3, .L124+4
 2148 0042 1340     		ands	r3, r3, r2
1018:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   }
 2149              		.loc 1 1018 28
 2150 0044 03F10052 		add	r2, r3, #536870912
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 56


1018:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   }
 2151              		.loc 1 1018 26
 2152 0048 7B68     		ldr	r3, [r7, #4]
 2153 004a 1A60     		str	r2, [r3]
 2154              	.L123:
 2155              		.loc 1 1020 1
 2156 004c 00BF     		nop
 2157 004e 0C37     		adds	r7, r7, #12
 2158              	.LCFI131:
 2159              		.cfi_def_cfa_offset 4
 2160 0050 BD46     		mov	sp, r7
 2161              	.LCFI132:
 2162              		.cfi_def_cfa_register 13
 2163              		@ sp needed
 2164 0052 5DF8047B 		ldr	r7, [sp], #4
 2165              	.LCFI133:
 2166              		.cfi_restore 7
 2167              		.cfi_def_cfa_offset 0
 2168 0056 7047     		bx	lr
 2169              	.L125:
 2170              		.align	2
 2171              	.L124:
 2172 0058 00400058 		.word	1476411392
 2173 005c FCFF0F00 		.word	1048572
 2174              		.cfi_endproc
 2175              	.LFE974:
 2177              		.section	.text.FLASH_OB_ProceedWriteOperation,"ax",%progbits
 2178              		.align	1
 2179              		.syntax unified
 2180              		.thumb
 2181              		.thumb_func
 2183              	FLASH_OB_ProceedWriteOperation:
 2184              	.LFB975:
1021:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
1022:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** /**
1023:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @brief  Proceed the OB Write Operation.
1024:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   * @retval HAL Status
1025:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   */
1026:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** static HAL_StatusTypeDef FLASH_OB_ProceedWriteOperation(void)
1027:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** {
 2185              		.loc 1 1027 1
 2186              		.cfi_startproc
 2187              		@ args = 0, pretend = 0, frame = 8
 2188              		@ frame_needed = 1, uses_anonymous_args = 0
 2189 0000 80B5     		push	{r7, lr}
 2190              	.LCFI134:
 2191              		.cfi_def_cfa_offset 8
 2192              		.cfi_offset 7, -8
 2193              		.cfi_offset 14, -4
 2194 0002 82B0     		sub	sp, sp, #8
 2195              	.LCFI135:
 2196              		.cfi_def_cfa_offset 16
 2197 0004 00AF     		add	r7, sp, #0
 2198              	.LCFI136:
 2199              		.cfi_def_cfa_register 7
1028:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   HAL_StatusTypeDef status;
1029:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 57


1030:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   /* Verify that next operation can be proceed */
1031:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   status = FLASH_WaitForLastOperation(FLASH_TIMEOUT_VALUE);
 2200              		.loc 1 1031 12
 2201 0006 4FF47A70 		mov	r0, #1000
 2202 000a FFF7FEFF 		bl	FLASH_WaitForLastOperation
 2203 000e 0346     		mov	r3, r0
 2204 0010 FB71     		strb	r3, [r7, #7]
1032:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
1033:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   if (status == HAL_OK)
 2205              		.loc 1 1033 6
 2206 0012 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2207 0014 002B     		cmp	r3, #0
 2208 0016 0BD1     		bne	.L127
1034:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   {
1035:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     /* Set OPTSTRT Bit */
1036:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     SET_BIT(FLASH->CR, FLASH_CR_OPTSTRT);
 2209              		.loc 1 1036 5
 2210 0018 084B     		ldr	r3, .L129
 2211 001a 5B69     		ldr	r3, [r3, #20]
 2212 001c 074A     		ldr	r2, .L129
 2213 001e 43F40033 		orr	r3, r3, #131072
 2214 0022 5361     		str	r3, [r2, #20]
1037:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
1038:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     /* Wait for last operation to be completed */
1039:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****     status = FLASH_WaitForLastOperation(FLASH_TIMEOUT_VALUE);
 2215              		.loc 1 1039 14
 2216 0024 4FF47A70 		mov	r0, #1000
 2217 0028 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 2218 002c 0346     		mov	r3, r0
 2219 002e FB71     		strb	r3, [r7, #7]
 2220              	.L127:
1040:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   }
1041:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** 
1042:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c ****   return status;
 2221              		.loc 1 1042 10
 2222 0030 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
1043:Drivers/STM32WBxx_HAL_Driver/Src/stm32wbxx_hal_flash_ex.c **** }
 2223              		.loc 1 1043 1
 2224 0032 1846     		mov	r0, r3
 2225 0034 0837     		adds	r7, r7, #8
 2226              	.LCFI137:
 2227              		.cfi_def_cfa_offset 8
 2228 0036 BD46     		mov	sp, r7
 2229              	.LCFI138:
 2230              		.cfi_def_cfa_register 13
 2231              		@ sp needed
 2232 0038 80BD     		pop	{r7, pc}
 2233              	.L130:
 2234 003a 00BF     		.align	2
 2235              	.L129:
 2236 003c 00400058 		.word	1476411392
 2237              		.cfi_endproc
 2238              	.LFE975:
 2240              		.text
 2241              	.Letext0:
 2242              		.file 2 "C:/Program Files (x86)/Arm GNU Toolchain arm-none-eabi/14.3 rel1/arm-none-eabi/include/ma
 2243              		.file 3 "C:/Program Files (x86)/Arm GNU Toolchain arm-none-eabi/14.3 rel1/arm-none-eabi/include/sy
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 58


 2244              		.file 4 "Drivers/CMSIS/Device/ST/STM32WBxx/Include/stm32wb55xx.h"
 2245              		.file 5 "Drivers/STM32WBxx_HAL_Driver/Inc/stm32wbxx_hal_def.h"
 2246              		.file 6 "Drivers/STM32WBxx_HAL_Driver/Inc/stm32wbxx_hal_flash.h"
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 59


DEFINED SYMBOLS
                            *ABS*:00000000 stm32wbxx_hal_flash_ex.c
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:21     .text.HAL_FLASHEx_Erase:00000000 $t
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:27     .text.HAL_FLASHEx_Erase:00000000 HAL_FLASHEx_Erase
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:881    .text.FLASH_PageErase:00000000 FLASH_PageErase
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1037   .text.FLASH_AcknowledgePageErase:00000000 FLASH_AcknowledgePageErase
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:937    .text.FLASH_FlushCaches:00000000 FLASH_FlushCaches
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:153    .text.HAL_FLASHEx_Erase:0000009c $d
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:158    .text.HAL_FLASHEx_Erase_IT:00000000 $t
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:164    .text.HAL_FLASHEx_Erase_IT:00000000 HAL_FLASHEx_Erase_IT
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:267    .text.HAL_FLASHEx_Erase_IT:0000007c $d
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:273    .text.HAL_FLASHEx_OBProgram:00000000 $t
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:279    .text.HAL_FLASHEx_OBProgram:00000000 HAL_FLASHEx_OBProgram
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1082   .text.FLASH_OB_WRPConfig:00000000 FLASH_OB_WRPConfig
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1159   .text.FLASH_OB_OptrConfig:00000000 FLASH_OB_OptrConfig
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1769   .text.FLASH_OB_GetUser:00000000 FLASH_OB_GetUser
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1704   .text.FLASH_OB_GetRDP:00000000 FLASH_OB_GetRDP
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1231   .text.FLASH_OB_PCROP1AConfig:00000000 FLASH_OB_PCROP1AConfig
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1330   .text.FLASH_OB_PCROP1BConfig:00000000 FLASH_OB_PCROP1BConfig
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1448   .text.FLASH_OB_SecureConfig:00000000 FLASH_OB_SecureConfig
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1396   .text.FLASH_OB_IPCCBufferAddrConfig:00000000 FLASH_OB_IPCCBufferAddrConfig
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:2183   .text.FLASH_OB_ProceedWriteOperation:00000000 FLASH_OB_ProceedWriteOperation
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:490    .text.HAL_FLASHEx_OBProgram:00000130 $d
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:496    .text.HAL_FLASHEx_OBGetConfig:00000000 $t
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:502    .text.HAL_FLASHEx_OBGetConfig:00000000 HAL_FLASHEx_OBGetConfig
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1617   .text.FLASH_OB_GetWRP:00000000 FLASH_OB_GetWRP
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1828   .text.FLASH_OB_GetPCROP:00000000 FLASH_OB_GetPCROP
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1940   .text.FLASH_OB_GetIPCCBufferAddr:00000000 FLASH_OB_GetIPCCBufferAddr
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1989   .text.FLASH_OB_GetSecureMemoryConfig:00000000 FLASH_OB_GetSecureMemoryConfig
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:2095   .text.FLASH_OB_GetC2BootResetConfig:00000000 FLASH_OB_GetC2BootResetConfig
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:622    .text.HAL_FLASHEx_OBGetConfig:000000bc $d
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:627    .text.HAL_FLASHEx_FlashEmptyCheck:00000000 $t
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:633    .text.HAL_FLASHEx_FlashEmptyCheck:00000000 HAL_FLASHEx_FlashEmptyCheck
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:665    .text.HAL_FLASHEx_FlashEmptyCheck:00000018 $d
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:670    .text.HAL_FLASHEx_ForceFlashEmpty:00000000 $t
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:676    .text.HAL_FLASHEx_ForceFlashEmpty:00000000 HAL_FLASHEx_ForceFlashEmpty
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:719    .text.HAL_FLASHEx_ForceFlashEmpty:00000024 $d
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:724    .text.HAL_FLASHEx_SuspendOperation:00000000 $t
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:730    .text.HAL_FLASHEx_SuspendOperation:00000000 HAL_FLASHEx_SuspendOperation
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:764    .text.HAL_FLASHEx_SuspendOperation:0000001c $d
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:769    .text.HAL_FLASHEx_AllowOperation:00000000 $t
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:775    .text.HAL_FLASHEx_AllowOperation:00000000 HAL_FLASHEx_AllowOperation
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:809    .text.HAL_FLASHEx_AllowOperation:0000001c $d
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:814    .text.HAL_FLASHEx_IsOperationSuspended:00000000 $t
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:820    .text.HAL_FLASHEx_IsOperationSuspended:00000000 HAL_FLASHEx_IsOperationSuspended
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:870    .text.HAL_FLASHEx_IsOperationSuspended:0000002c $d
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:875    .text.FLASH_PageErase:00000000 $t
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:927    .text.FLASH_PageErase:00000030 $d
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:932    .text.FLASH_FlushCaches:00000000 $t
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1027   .text.FLASH_FlushCaches:0000008c $d
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1032   .text.FLASH_AcknowledgePageErase:00000000 $t
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1072   .text.FLASH_AcknowledgePageErase:00000020 $d
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1077   .text.FLASH_OB_WRPConfig:00000000 $t
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1149   .text.FLASH_OB_WRPConfig:0000004c $d
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1154   .text.FLASH_OB_OptrConfig:00000000 $t
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1221   .text.FLASH_OB_OptrConfig:0000003c $d
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1226   .text.FLASH_OB_PCROP1AConfig:00000000 $t
ARM GAS  C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s 			page 60


C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1320   .text.FLASH_OB_PCROP1AConfig:0000006c $d
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1325   .text.FLASH_OB_PCROP1BConfig:00000000 $t
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1386   .text.FLASH_OB_PCROP1BConfig:00000038 $d
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1391   .text.FLASH_OB_IPCCBufferAddrConfig:00000000 $t
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1438   .text.FLASH_OB_IPCCBufferAddrConfig:00000024 $d
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1443   .text.FLASH_OB_SecureConfig:00000000 $t
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1606   .text.FLASH_OB_SecureConfig:000000fc $d
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1612   .text.FLASH_OB_GetWRP:00000000 $t
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1694   .text.FLASH_OB_GetWRP:0000004c $d
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1699   .text.FLASH_OB_GetRDP:00000000 $t
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1759   .text.FLASH_OB_GetRDP:0000002c $d
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1764   .text.FLASH_OB_GetUser:00000000 $t
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1817   .text.FLASH_OB_GetUser:0000002c $d
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1823   .text.FLASH_OB_GetPCROP:00000000 $t
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1930   .text.FLASH_OB_GetPCROP:00000080 $d
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1935   .text.FLASH_OB_GetIPCCBufferAddr:00000000 $t
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1978   .text.FLASH_OB_GetIPCCBufferAddr:00000020 $d
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:1984   .text.FLASH_OB_GetSecureMemoryConfig:00000000 $t
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:2085   .text.FLASH_OB_GetSecureMemoryConfig:0000007c $d
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:2090   .text.FLASH_OB_GetC2BootResetConfig:00000000 $t
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:2172   .text.FLASH_OB_GetC2BootResetConfig:00000058 $d
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:2178   .text.FLASH_OB_ProceedWriteOperation:00000000 $t
C:\Users\alanl\AppData\Local\Temp\ccKX71HY.s:2236   .text.FLASH_OB_ProceedWriteOperation:0000003c $d

UNDEFINED SYMBOLS
FLASH_WaitForLastOperation
pFlash
